---
title: ReFS(복원 파일 시스템) 개요
ms.prod: windows-server
ms.author: gawatu
manager: mchad
ms.technology: storage-file-systems
ms.topic: article
author: gawatu
ms.date: 06/17/2019
ms.openlocfilehash: 7d33f15aafa432cb3f3174087c3b27855b4f35b2
ms.sourcegitcommit: 771db070a3a924c8265944e21bf9bd85350dd93c
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 06/27/2020
ms.locfileid: "85475140"
---
# <a name="resilient-file-system-refs-overview"></a>ReFS(복원 파일 시스템) 개요

>적용 대상: Windows Server 2019, Windows Server 2016, Windows Server 2012 R2, Windows Server 2012, Windows Server (반기 채널)

ReFS (복원 파일 시스템)는 데이터 가용성을 극대화 하 고, 다양 한 워크 로드에서 대규모 데이터 집합으로 효율적으로 확장 하 고, 손상 복구를 통해 데이터 무결성을 제공 하도록 설계 된 Microsoft의 최신 파일 시스템입니다. 확장 된 저장소 시나리오 집합을 해결 하 고 향후 혁신을 위한 토대를 마련 하려고 합니다.

## <a name="key-benefits"></a>주요 이점

### <a name="resiliency"></a>복원력

ReFS는 손상을 정확 하 게 감지 하 고 온라인 상태에서 해당 손상을 수정할 수 있는 새로운 기능을 제공 하 여 데이터에 대 한 향상 된 무결성 및 가용성을 제공 합니다.

- **무결성-** refs-refs는 메타 데이터에 대 한 체크섬과 파일 데이터를 선택적으로 사용 하 여 안정적으로 손상을 감지 하는 기능을 제공 합니다.
- **저장소 공간 통합** -미러 또는 패리티 공간과 함께 사용 되는 경우 ReFS는 저장소 공간에서 제공 된 데이터의 대체 복사본을 사용 하 여 검색 된 손상을 자동으로 복구할 수 있습니다. 복구 프로세스는 모두 손상 영역으로 지역화 되 고 온라인으로 수행 되므로 볼륨 가동 중지 시간이 필요 하지 않습니다.
- **복원 data** -볼륨이 손상 되 고 손상 된 데이터의 대체 사본이 없으면 ReFS는 네임 스페이스에서 손상 된 데이터를 제거 합니다. ReFS는 가장 복구하기 어려운 손상을 처리하는 동안에도 볼륨의 온라인 상태를 유지합니다. 그러나 드물게 볼륨이 오프라인 상태가 되어야 하는 경우가 있습니다.
- **자동 관리 오류 수정** -읽기 및 쓰기 전에 데이터의 유효성을 검사 하는 것 외에도 ReFS는 <i>스크러버</i>라는 데이터 무결성 스캐너를 도입 합니다. 이 스크러버는 볼륨을 정기적으로 검사 하 여 잠재적인 손상을 식별 하 고 손상 된 데이터 복구를 사전에 트리거합니다.

### <a name="performance"></a>성능

ReFS는 복원 력 향상을 제공 하는 것 외에도 성능에 민감한 가상화 된 워크 로드에 대 한 새로운 기능을 소개 합니다. 실시간 계층 최적화, 블록 복제 및 스파스 VDL은 동적 및 다양 한 워크 로드를 지원 하도록 설계 된 ReFS의 진화 하는 기능에 대 한 좋은 예입니다.

- **[미러 가속](./mirror-accelerated-parity.md)** 패리티-미러 가속 패리티는 데이터에 대 한 고성능 및 용량 효율적인 저장소를 모두 제공 합니다.

    - ReFS는 고성능 및 용량 효율적인 저장소를 모두 제공 하기 위해 볼륨을 계층 이라고 하는 두 개의 논리적 저장소 그룹으로 나눕니다. 이러한 계층에는 각 계층에서 성능 또는 용량을 최적화할 수 있도록 고유한 드라이브 및 복원 력 유형이 있을 수 있습니다. 구성의 몇 가지 예는 다음과 같습니다.

      | 성능 계층 | 용량 계층 |
      | ---------------- | ----------------- |
      | 미러된 SSD | 미러된 HDD |
      | 미러된 SSD | 패리티 SSD |
      | 미러된 SSD | 패리티 HDD |

    - 이러한 계층이 구성 되 면 ReFS는이를 사용 하 여 핫 데이터에 대 한 빠른 저장소 및 콜드 데이터에 대 한 용량 효율적인 저장소를 제공 합니다.
        - 모든 쓰기는 성능 계층에서 발생 하 고, 성능 계층에 남아 있는 많은 양의 데이터가 실시간으로 용량 계층으로 효율적으로 이동 됩니다.
        - 하이브리드 배포 (플래시 및 HDD 드라이브 혼합)를 사용 하는 경우 [스토리지 공간 다이렉트 캐시](../storage-spaces/understand-the-cache.md) 를 사용 하 여 읽기를 가속화 하 고 가상화 된 작업의 데이터 조각화 특성의 영향을 줄일 수 있습니다. 그렇지 않고 모든 플래시 배포를 사용 하는 경우 성능 계층 에서도 읽기가 수행 됩니다.

> [!NOTE]
> 서버 배포의 경우 미러 가속 패리티는 [스토리지 공간 다이렉트](../storage-spaces/storage-spaces-direct-overview.md)에서만 지원 됩니다. 보관 및 백업 워크 로드에만 미러 가속 패리티를 사용 하는 것이 좋습니다. 가상화 된 기타 고성능 임의 워크 로드의 경우 성능을 향상 시키려면 3 방향 미러를 사용 하는 것이 좋습니다.

- **가속화 된 VM 작업** -ReFS는 가상화 된 워크 로드의 성능을 향상 시킬 수 있는 새로운 기능을 제공 합니다.
    - [블록](./block-cloning.md) 복제-복제 블록 복제는 복사 작업을 가속화 하 여, 낮은 영향을 주는 VM 검사점 병합 작업을 지원 합니다.
    - 스파스 VDL-스파스 VDL를 사용 하면 ReFS에서 파일을 신속 하 게 만들 수 있으므로, 10 초 분에서 몇 초까지 고정 Vhd를 만드는 데 필요한 시간을 줄일 수 있습니다.

- **변수 클러스터 크기** -ReFS는 4K 및 64k 클러스터 크기를 모두 지원 합니다. 4K는 대부분의 배포에 권장 되는 클러스터 크기 이지만 대량 순차 IO 워크 로드에는 64K 클러스터가 적합 합니다.

### <a name="scalability"></a>확장성

ReFS는 성능에 부정적인 영향을 주지 않고 매우 큰 데이터 집합을 지원 하도록 설계 되었으며 이전 파일 시스템 보다 더 큰 규모를 달성 합니다.

## <a name="supported-deployments"></a>지원되는 배포

Microsoft는 광범위 한 구성 및 워크 로드와 함께 일반적인 용도의 NTFS를 개발 했습니다. 그러나 ReFS에서 제공 하는 가용성, 복원 력 및/또는 규모를 특별히 요구 하는 고객의 경우 Microsoft는 다음 구성 및 시나리오에서 사용할 ReFS를 지원 합니다.

> [!NOTE]
> 모든 ReFS 지원 구성은 [Windows Server 카탈로그](https://www.WindowsServerCatalog.com) 인증 된 하드웨어를 사용 하 고 응용 프로그램 요구 사항을 충족 해야 합니다.

### <a name="storage-spaces-direct"></a>직접 스토리지 공간

스토리지 공간 다이렉트에 ReFS를 배포 하는 것은 가상화 된 워크 로드 또는 네트워크 연결 저장소에 권장 됩니다.
- 미러링 가속화 된 패리티와 [스토리지 공간 다이렉트 캐시는](../storage-spaces/understand-the-cache.md) 고성능 및 용량 효율적인 저장소를 제공 합니다.
- 블록 클론 및 스파스 VDL의 도입으로 인해 .vhdx 파일 작업 (예: 만들기, 병합 및 확장)이 대폭 가속화 됩니다.
- 무결성 스트림, 온라인 복구 및 대체 데이터 복사본을 사용 하면 ReFS 및 스토리지 공간 다이렉트가 공동으로 메타 데이터와 데이터 내에서 저장소 컨트롤러 및 저장소 미디어 손상을 감지 하 고 수정할 수 있습니다.
- ReFS는 대규모 데이터 집합을 확장 하 고 지 원하는 기능을 제공 합니다.

### <a name="storage-spaces"></a>스토리지 공간

- 무결성 스트림, 온라인 복구 및 대체 데이터 복사본을 사용 하면 ReFS 및 [저장소 공간](../storage-spaces/overview.md) 에서 메타 데이터와 데이터 모두 내에서 저장소 컨트롤러 및 저장소 미디어 손상을 감지 하 고 수정할 수 있습니다.
- 저장소 공간 배포는 참조에서 제공 하는 블록 복제 및 확장성을 활용할 수도 있습니다.
- 공유 SAS 인클로저를 사용 하 여 저장소 공간에 ReFS를 배포 하면 보관 데이터를 호스팅하고 사용자 문서를 저장 하는 데 적합 합니다.

> [!NOTE]
> 저장소 공간은 BusTypes SATA, SAS, NVME를 통해 이동식이 아닌 로컬 직접 연결을 지원 하거나, HBA (즉, RAID controller in 통과 모드)를 통해 연결 된 로컬에서 연결을 지원 합니다.

### <a name="basic-disks"></a>기본 디스크

기본 디스크에 ReFS를 배포 하는 것은 자체 소프트웨어 복원 력 및 가용성 솔루션을 구현 하는 응용 프로그램에 가장 적합 합니다.
- 자체 복원 력 및 가용성 소프트웨어 솔루션을 도입 하는 응용 프로그램은 무결성 스트림, 블록 복제 및 대규모 데이터 집합을 확장 하 고 지 원하는 기능을 활용할 수 있습니다.

> [!NOTE]
> 기본 디스크는 BusTypes SATA, SAS, NVME 또는 RAID를 통해 이동식이 아닌 로컬 직접 연결을 포함 합니다. 기본 디스크에는 저장소 공간이 포함 되지 않습니다.

### <a name="backup-target"></a>Backup 대상

ReFS를 백업 대상으로 배포 하는 것은 자체 복원 력 및 가용성 솔루션을 구현 하는 응용 프로그램 및 하드웨어에 가장 적합 합니다.
- 자체 복원 력 및 가용성 소프트웨어 솔루션을 도입 하는 응용 프로그램은 무결성 스트림, 블록 복제 및 대규모 데이터 집합을 확장 하 고 지 원하는 기능을 활용할 수 있습니다.

> [!NOTE]
> 백업 대상에는 위의 지원 되는 구성이 포함 됩니다. 파이버 채널 및 iSCSI San에 대 한 지원 세부 정보는 응용 프로그램 및 저장소 배열 공급 업체에 문의 하세요. San의 경우 씬 프로비저닝, 트리밍/매핑 해제 또는 ODX (오프 로드 데이터 전송)와 같은 기능이 필요한 경우 NTFS를 사용 해야 합니다.

## <a name="feature-comparison"></a>기능 비교

### <a name="limits"></a>제한

| 기능       | ReFS                                        | NTFS |
|----------------|------------------------------------------------|-----------------------|
| 최대 파일 이름 길이 | 255 유니코드 문자  | 255 유니코드 문자               |
| 최대 경로 이름 길이 |32K 유니코드 문자 | 32K 유니코드 문자                |
| 최대 파일 크기 | 35 PB (페타바이트)  | 256TB               |
| 최대 볼륨 크기 | 35 PB                           | 256TB                |

### <a name="functionality"></a>기능

#### <a name="the-following-features-are-available-on-refs-and-ntfs"></a>ReFS 및 NTFS에서 사용할 수 있는 기능은 다음과 같습니다.

| 기능       | ReFS                                        | NTFS |
|---------------------------|------------------|-----------------------|
| BitLocker 암호화 | 예 | Yes |
| 데이터 중복 제거 | 예<sup>1</sup> | 예 |
| CSV(클러스터링된 공유 볼륨) 지원 | 예<sup>2</sup> | Yes |
| 소프트 링크 | Yes | Yes |
| 장애 조치 (Failover) 클러스터 지원 | Yes | Yes |
| 액세스 제어 목록 | Yes | Yes |
| USN 저널 | Yes | Yes |
| 변경 알림 | Yes | Yes |
| 연결점 | Yes | Yes |
| 탑재 지점 | Yes | Yes |
| 재분석 지점 | Yes | Yes |
| 볼륨 스냅숏 | Yes | Yes |
| 파일 Id | Yes | Yes |
| Oplock | Yes | Yes |
| 스파스 파일 | Yes | Yes |
| 명명 된 스트림 | Yes | Yes |
| 씬 프로비저닝 | 예<sup>3</sup> | Yes |
| 트리밍/매핑 해제 | 예<sup>3</sup> | Yes |
1. Windows Server, 버전 1709 이상에서 사용할 수 있습니다.
2. Windows Server 2012 R2 이상에서 사용할 수 있습니다.
3. 저장소 공간만

#### <a name="the-following-features-are-only-available-on-refs"></a>다음 기능은 ReFS 에서만 사용할 수 있습니다.

| 기능       | ReFS                                        | NTFS |
|---------------------------|------------------|-----------------------|
| 블록 클론 | 예 | 아니요 |
| 스파스 VDL | 예 | 아니요 |
| 미러 가속 패리티| 예 (스토리지 공간 다이렉트) | No |

#### <a name="the-following-features-are-unavailable-on-refs-at-this-time"></a>지금은 ReFS에서 다음 기능을 사용할 수 없습니다.

| 기능       | ReFS                                        | NTFS |
|---------------------------|------------------|-----------------------|
| 파일 시스템 압축 | 아니요 | 예 |
| 파일 시스템 암호화 | 아니요 | 예 |
| 트랜잭션 | 아니요 | 예 |
| 하드 링크 | 아니요 | 예 |
| 개체 ID | 아니요 | 예 |
| ODX (오프 로드 된 데이터 전송) | 아니요 | 예 |
| 짧은 이름 | 아니요 | 예 |
| 확장된 특성 | 아니요 | 예 |
| 디스크 할당량 | 아니요 | 예 |
| 부팅 가능 | 아니요 | 예 |
| 페이지 파일 지원 | 아니요 | 예 |
| 이동식 미디어에서 지원 됨 | 아니요 | 예 |

## <a name="additional-references"></a>추가 참조

- [ReFS 및 NTFS에 대한 클러스터 크기 권장 사항](https://techcommunity.microsoft.com/t5/Storage-at-Microsoft/Cluster-size-recommendations-for-ReFS-and-NTFS/ba-p/425960)
- [스토리지 공간 다이렉트 개요](../storage-spaces/storage-spaces-direct-overview.md)
- [ReFS 블록 복제](block-cloning.md)
- [ReFS 무결성 스트림](integrity-streams.md)
