---
title: ReFS(복원 파일 시스템) 개요
ms.prod: windows-server-threshold
ms.author: gawatu
ms.manager: mchad
ms.technology: storage-file-systems
ms.topic: article
author: gawatu
ms.date: 06/17/2019
ms.openlocfilehash: 133358e959e24abc506be13259d750753d3727f7
ms.sourcegitcommit: 6fec3ca19ddaecbc936320d98cca0736dd8505d1
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 06/18/2019
ms.locfileid: "67196178"
---
# <a name="resilient-file-system-refs-overview"></a>ReFS(복원 파일 시스템) 개요

>적용 대상: Windows Server 2019, Windows Server 2016, Windows Server 2012 R2, Windows Server 2012, Windows Server (반기 채널)

ReFS(복원 파일 시스템)는 데이터 가용성을 극대화하고, 다양한 워크로드의 대규모 데이터 집합으로 효율적으로 확장하고, 손상 복구를 통해 데이터 무결성을 제공하도록 설계된 Microsoft의 최신 파일 시스템입니다. 확장되는 저장소 시나리오 집합에 대응하고 미래의 혁신을 위한 토대를 마련하기 위한 것입니다.

## <a name="key-benefits"></a>주요 이점

### <a name="resiliency"></a>복원력

ReFS는 온라인 상태에서 손상을 정확하게 탐지하여 수정함으로써 데이터의 무결성 및 가용성 향상에 도움을 주는 새로운 기능을 도입했습니다. 

- **무결성 스트림** - ReFS는 메타데이터 및 파일 데이터(선택적)에 대해 체크섬을 사용함으로써, 안정적으로 손상을 탐지할 수 있습니다. 
- **저장소 공간 통합** - ReFS를 미러 또는 패리티 공간과 함께 사용하면 저장소 공간에서 제공하는 데이터의 대체 복사본을 사용하여 탐지된 손상을 자동으로 복구할 수 있습니다. 복구 프로세스는 손상 영역에 지역화되며 온라인에서도 수행되므로 볼륨 가동 중단 시간이 필요하지 않습니다.
- **데이터 복구** - 볼륨이 손상되었는데 손상된 데이터의 대체 복사본이 존재하지 않을 경우 ReFS는 네임스페이스에서 손상된 데이터를 제거합니다. ReFS는 가장 복구하기 어려운 손상을 처리하는 동안에도 볼륨의 온라인 상태를 유지합니다. 그러나 드물게 볼륨이 오프라인 상태가 되어야 하는 경우가 있습니다.
- **사전 오류 수정** - 읽기 및 쓰기를 수행하기 전에 데이터 유효성을 검사하는 것 외에도, ReFS는 <i>스크러버</i>라고 알려진 데이터 무결성 스캐너를 도입했습니다. 이 스크러버는 볼륨을 주기적으로 검사하여 잠재적인 손상을 식별한 다음 해당 손상 데이터에 대한 복구를 사전에 트리거합니다. 

### <a name="performance"></a>성능

ReFS는 향상된 복원력을 제공할 뿐만 아니라 성능에 민감한 가상화된 워크로드를 위한 새 기능을 도입했습니다. 실시간 계층 최적화, 블록 복제 및 스파스 VDL은 진화하는 ReFS 기능의 좋은 예로써, 동적이고 다양한 워크로드를 지원하도록 설계되었습니다.

- **[패리티 미러 가속](./mirror-accelerated-parity.md)**  -미러 가속 패리티 고성능와도 데이터에 대 한 효율적인 저장소 용량을 제공 합니다. 

    - 고성능 및 용량 효율적 저장소를 제공하기 위해 ReFS는 볼륨을 계층이라고 하는 2개의 논리 저장소 그룹으로 나눕니다. 이러한 계층은 자체 드라이브와 복원 유형을 지원하므로 성능 또는 용량을 위해 각 계층을 최적화할 수 있습니다. 일부 구성 예제는 다음과 같습니다. 
    
      | 성능 계층 | 용량 계층 |
      | ---------------- | ----------------- |
      | 미러된 SSD | 미러된 HDD |
      | 미러된 SSD | 패리티 SSD |
      | 미러된 SSD | 패리티 HDD |
            
    - 이러한 계층이 구성되면 ReFS는 이러한 계층을 사용하여 핫 데이터에는 빠른 저장소를, 콜드 데이터에는 용량 효율적인 저장소를 제공합니다.
        - 모든 쓰기 작업이 성능 계층에서 수행되며, 성능 계층에 남아 있는 큰 데이터 청크는 실시간으로 용량 계층으로 효율적으로 이동됩니다.
        - 하이브리드 배포 (혼합 flash 및 HDD 드라이브)를 사용 하는 경우 [저장소 공간 다이렉트 캐시](../storage-spaces/understand-the-cache.md) 조각화 특성 가상화 데이터의 영향을 줄일 워크 로드, 읽기를 가속화 하는 데 도움이 됩니다. 그렇지 않으면 모든 플래시 배포를 사용 하는 경우 읽기 에서도 발생할 성능 계층.

> [!NOTE]
> 서버 배포의 경우 미러-가속 패리티는 [저장소 공간 다이렉트](../storage-spaces/storage-spaces-direct-overview.md)에서만 지원됩니다. 보관 및 백업 워크 로드를 사용 하 여 미러 가속 패리티를 사용 하는 것이 좋습니다. 가상화 및 기타 고성능 임의 워크 로드에 대 한 성능 향상을 위해 3 방향 미러를 사용 하는 것이 좋습니다.

- **VM 작업 가속화** - ReFS는 특히 가상화된 워크로드의 성능을 개선하기 위한 새로운 기능을 도입했습니다.
    - [블록 복제](./block-cloning.md) - 블록 복제는 복사 작업을 가속화하여 빠르고 더 적은 영향을 미치는 VM 검사점 병합 작업을 가능하게 합니다.
    - 스파스 VDL - ReFS는 스파스 VDL을 사용하여 파일을 빠르게 초기화할 수 있으므로 고정 VHD를 만드는 데 필요한 시간이 수십 분에서 단 몇 초로 줄어듭니다.

- **가변 클러스터 크기** - ReFS는 4K와 64K 클러스터 크기를 모두 지원합니다. 4K는 대부분의 배포에 권장되는 클러스터 크기이고, 64K 클러스터는 대규모의 순차적 IO 워크로드에 적합합니다.

### <a name="scalability"></a>확장성

ReFS는 수백만 테라바이트에 이르는 매우 큰 데이터 집합을 지원하도록 설계된 것으로, 성능에 부정적인 영향을 끼치지 않으면서 이전 파일 시스템보다 더 큰 확장성을 제공합니다.

## <a name="supported-deployments"></a>지원되는 배포

하지만 Microsoft는 NTFS 사용 하도록 특별히 개발 범용 다양 한 구성 및 워크 로드를 사용 하 여 고객의 가용성, 복원 력 및/또는 ReFS는 확장을 특별히 필요한 경우 Microsoft에서 사용 ReFS를 지원 다음 구성 및 시나리오 

> [!NOTE]
> 모든 지원 되는 ReFS 구성을 사용 해야 합니다 [Windows Server 카탈로그](https://www.WindowsServerCatalog.com) 응용 프로그램 요구 사항 충족 및 하드웨어를 인증 합니다.

### <a name="storage-spaces-direct"></a>저장소 공간 다이렉트

저장소 공간 다이렉트에 ReFS를 배포하는 것은 가상화된 워크로드 또는 네트워크 연결 저장소에 권장됩니다. 
- 미러-가속 패리티와 [저장소 공간 다이렉트의 캐시](../storage-spaces/understand-the-cache.md)는 고성능과 용량 효율적 저장소를 제공합니다. 
- 새롭게 도입된 블록 복제 및 스파스 VDL은 생성, 병합 및 확장과 같은 .vhdx 파일 작업의 속도를 크게 높여줍니다.
- 무결성 스트림이, 온라인 복구 및 대체 데이터 복사본 ReFS를 사용 하도록 설정 하 고 저장소 공간 다이렉트를 공동으로 검색 하 고 저장소 컨트롤러 및 메타 데이터와 데이터 내에서 저장소 미디어 손상을 수정 합니다. 
- ReFS는 대량의 데이터 집합을 확장 및 지원할 수 있는 기능을 제공합니다. 

### <a name="storage-spaces"></a>저장소 공간

- 무결성 스트림을, 온라인 복구 및 대체 데이터 복사본 ReFS를 사용 하도록 설정 하 고 [저장소 공간](../storage-spaces/overview.md) 를 공동으로 감지 하 고 저장소 컨트롤러 및 메타 데이터와 데이터 내에서 저장소 미디어 손상을 수정 합니다.
- 저장소 공간 배포는 또한 ReFS에 제공되는 블록 복제와 확장성도 사용할 수 있습니다.
- 공유 SAS 엔클로저를 사용 하 여 저장소 공간에서 ReFS를 배포 하는 것은 사용자 문서를 저장 및 보관 데이터를 호스트 하는 데 적합 합니다.

> [!NOTE]
> 비-이동식 저장소 공간에서는 로컬 BusTypes SATA, SAS, NVME를 통해 직접 연결 하거나 HBA (즉, 통과 모드 RAID 컨트롤러)를 통해 연결 합니다.

### <a name="basic-disks"></a>기본 디스크

기본 디스크에 ReFS를 배포 하는 것은 자신의 소프트웨어 복원 력 및 가용성 솔루션을 구현 하는 응용 프로그램에 가장 적합 합니다. 
- 자체 복원력 및 가용성 소프트웨어 솔루션을 도입하는 응용 프로그램은 무결성 스트림, 블록 복제 및 대량의 데이터 집합을 확장하고 지원하는 능력을 활용할 수 있습니다. 

> [!NOTE]
> 기본 디스크 로컬 비-이동식 BusTypes SATA, SAS, NVME, 또는 RAID를 통해 직접 연결을 포함 합니다. 

### <a name="backup-target"></a>백업 대상

ReFS를 적합 한 백업 대상으로 배포 응용 프로그램 및 직접 복원 력 및 가용성 솔루션을 구현 하는 하드웨어에 적합 합니다.
- 자체 복원력 및 가용성 소프트웨어 솔루션을 도입하는 응용 프로그램은 무결성 스트림, 블록 복제 및 대량의 데이터 집합을 확장하고 지원하는 능력을 활용할 수 있습니다.

> [!NOTE]
> 백업 대상에는 위의 지원 되는 구성을 포함합니다. 파이버 채널, iSCSI San에 지원 세부 정보에 대 한 응용 프로그램 및 저장소 배열 공급 업체에 문의 하세요. San을 씬 프로 비전, TRIM/UNMAP 또는 오프 로드 데이터 전송 (ODX)와 같은 기능이 필요한 경우 NTFS 사용 해야 합니다.   

## <a name="feature-comparison"></a>특징 비교

### <a name="limits"></a>제한

| 기능       | ReFS                                        | NTFS |
|----------------|------------------------------------------------|-----------------------|
| 최대 파일 이름 길이 | 유니코드 문자 255자  | 유니코드 문자 255자               |
| 최대 경로 이름 길이 |유니코드 문자 32K | 유니코드 문자 32K                |
| 최대 파일 크기 | 35 PB (페타바이트)  | 256TB               |
| 최대 볼륨 크기 | 35 PB                           | 256TB                |

### <a name="functionality"></a>기능

#### <a name="the-following-features-are-available-on-refs-and-ntfs"></a>ReFS 및 NTFS에서는 다음과 같은 기능을 사용할 수 있습니다.

| 기능       | ReFS                                        | NTFS |
|---------------------------|------------------|-----------------------|
| BitLocker 암호화 | 예 | 예 |
| 데이터 중복 제거 | 예<sup>1</sup> | 예 |
| CSV(클러스터링된 공유 볼륨) 지원 | 예<sup>2</sup> | 예 |
| 소프트 링크 | 예 | 예 |
| 장애 조치(Failover) 클러스터 지원 | 예 | 예 |
| 액세스 제어 목록 | 예 | 예 |
| USN 저널 | 예 | 예 |
| 변경 알림 | 예 | 예 |
| 접합 지점 | 예 | 예 |
| 탑재 지점 | 예 | 예 |
| 재분석 지점 | 예 | 예 |
| 볼륨 스냅샷 | 예 | 예 |
| 파일 ID | 예 | 예 |
| Oplock | 예 | 예 |
| 스파스 파일 | 예 | 예 |
| 명명된 스트림 | 예 | 예 |
| 씬 프로비저닝 | 예<sup>3</sup> | 예 |
| Trim/매핑 해제 | 예<sup>3</sup> | 예 |
1. Windows Server 버전 1709 이상에서 사용할 수 있습니다.
2. Windows Server 2012 R2 이상 사용할 수 있습니다.
3. 저장소 공간에만

#### <a name="the-following-features-are-only-available-on-refs"></a>ReFS에서는 다음과 같은 기능만 사용할 수 있습니다.

| 기능       | ReFS                                        | NTFS |
|---------------------------|------------------|-----------------------|
| 블록 복제 | 예 | 아니요 |
| 스파스 VDL | 예 | 아니요 |
| 미러 가속 패리티| 예(저장소 공간 다이렉트에서) | 아니오 |

#### <a name="the-following-features-are-unavailable-on-refs-at-this-time"></a>현재 ReFS에서 다음과 같은 기능은 사용할 수 없습니다.

| 기능       | ReFS                                        | NTFS |
|---------------------------|------------------|-----------------------|
| 파일 시스템 압축 | 아니오 | 예 |
| 파일 시스템 암호화 | 아니오 | 예 |
| 의 | 아니요 | 예 |
| 하드 링크 | 아니요 | 예 |
| 개체 ID | 아니요 | 예 |
| 오프 로드 데이터 전송 (ODX) | 아니요 | 예 |
| 짧은 이름 | 아니오 | 예 |
| 확장 된 특성 | 아니오 | 예 |
| 디스크 할당량 | 아니오 | 예 |
| 부팅 가능 | 아니요 | 예 |
| 페이지 파일 지원 | 아니오 | 예 |
| 이동식 미디어에서 지원 | 아니오 | 예 |

## <a name="see-also"></a>참조

- [NTFS 및 ReFS에 대 한 클러스터 크기 권장 사항](https://techcommunity.microsoft.com/t5/Storage-at-Microsoft/Cluster-size-recommendations-for-ReFS-and-NTFS/ba-p/425960)
- [저장소 공간 다이렉트 개요](../storage-spaces/storage-spaces-direct-overview.md)
- [ReFS 블록 복제](block-cloning.md)
- [ReFS의 무결성 스트림](integrity-streams.md)