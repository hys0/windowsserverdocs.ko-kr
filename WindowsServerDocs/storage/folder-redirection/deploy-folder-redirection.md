---
title: 오프라인 파일을 사용한 폴더 리디렉션 배포
description: Windows Server를 사용하여 오프라인 파일로 Windows 클라이언트 컴퓨터에 폴더 리디렉션을 배포하는 방법을 설명합니다.
ms.prod: windows-server
ms.topic: article
author: JasonGerend
ms.author: jgerend
ms.technology: storage
ms.date: 06/06/2019
ms.localizationpriority: medium
ms.openlocfilehash: 6d8f6bf0df67b76028945403352bd135e6641a5a
ms.sourcegitcommit: ab3967d71dcbb962079af194875de58e7c32c4e2
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 02/03/2020
ms.locfileid: "76967415"
---
# <a name="deploy-folder-redirection-with-offline-files"></a>오프라인 파일을 사용한 폴더 리디렉션 배포

>적용 대상: Windows 10, Windows 7, Windows 8, Windows 8.1, Windows Vista, Windows Server 2019, Windows Server 2016, Windows Server 2012, Windows Server 2012 R2, Windows Server 2008 R2, Windows Server(반기 채널)

이 토픽에서는 Windows Server를 사용하여 오프라인 파일로 Windows 클라이언트 컴퓨터에 폴더 리디렉션을 배포하는 방법을 설명합니다.

이 토픽의 최근 변경 내용 목록은 [변경 내용](#change-history)을 참조하세요.

> [!IMPORTANT]
> [MS16-072](https://support.microsoft.com/help/3163622/ms16-072-security-update-for-group-policy-june-14-2016)의 보안 변경으로 인해 이 토픽의 [3단계: 폴더 리디렉션을 위한 GPO 만들기](#step-3-create-a-gpo-for-folder-redirection)가 업데이트되었습니다. 이는 Windows에서 폴더 리디렉션을 올바르게 적용할 수 있도록(그리고 영향을 받은 PC에서 리디렉션된 폴더를 되돌리지 않도록) 보장하기 위한 조치입니다.

## <a name="prerequisites"></a>필수 구성 요소

### <a name="hardware-requirements"></a>하드웨어 요구 사항

폴더 리디렉션을 사용하려면 x64 기반 또는 x86 기반 컴퓨터가 필요하며, 이는 Windows® RT에서 지원되지 않습니다.

### <a name="software-requirements"></a>소프트웨어 요구 사항

폴더 리디렉션의 소프트웨어 요구 사항은 다음과 같습니다.

- 폴더 리디렉션을 관리하려면 도메인 관리자 보안 그룹, 엔터프라이즈 관리자 보안 그룹 또는 그룹 정책 작성자 소유자 보안 그룹의 구성원으로 로그인해야 합니다.
- 클라이언트 컴퓨터에서 Windows 10, Windows 8.1, Windows 8, Windows 7, Windows Server 2019, Windows Server 2016, Windows Server(반기 채널), Windows Server 2012 R2, Windows Server 2012, Windows Server 2008 R2 또는 Windows Server 2008을 실행해야 합니다.
- 현재 관리 중인 AD DS(Active Directory 도메인 서비스)에 클라이언트 컴퓨터가 가입되어 있어야 합니다.
- 그룹 정책 관리 및 설치된 Active Directory 관리 센터에서 컴퓨터를 사용할 수 있어야 합니다.
- 파일 서버를 사용하여 리디렉션된 폴더를 호스트할 수 있어야 합니다.
    - 파일 공유에서 DFS 네임스페이스를 사용하는 경우 사용자가 서로 다른 서버에서 충돌하는 편집 작업을 수행하지 못하도록 DFS 폴더(링크)에 단일 대상이 있어야 합니다.
    - 파일 공유에서 DFS 복제를 사용하여 다른 서버에 콘텐츠를 복제하는 경우 사용자가 서로 다른 서버에서 충돌하는 편집 작업을 수행하지 못하도록 원본 서버에만 액세스할 수 있도록 해야 합니다.
    - 클러스터된 파일 공유를 사용하는 경우 폴더 리디렉션 및 오프라인 파일의 성능 문제를 방지할 수 있도록 파일 공유에서 지속적인 가용성을 사용하지 않도록 설정하세요. 뿐만 아니라, 사용자가 지속적으로 사용 가능한 파일 공유에 액세스할 수 없게 된 후 3-6분 동안 오프라인 파일이 오프라인 모드로 전환되지 않아 오프라인 파일의 항상 오프라인 모드를 사용하지 않는 사용자에게 불편을 줄 수 있습니다.

> [!NOTE]
> 폴더 리디렉션의 일부 새 기능을 사용하려면 추가적인 클라이언트 컴퓨터 및 Active Directory 스키마 요구 사항을 충족해야 합니다. 자세한 내용은 [기본 컴퓨터 배포](deploy-primary-computers.md), [폴더에서 오프라인 파일 비활성화](disable-offline-files-on-folders.md), [항상 오프라인 모드 사용](enable-always-offline.md) [최적화된 폴더 이동 활성화](enable-optimized-moving.md)를 참조하세요.

## <a name="step-1-create-a-folder-redirection-security-group"></a>1단계: 폴더 리디렉션 보안 그룹 만들기

환경에 폴더 리디렉션을 아직 설정하지 않은 경우 먼저 폴더 리디렉션 정책 설정을 적용할 모든 사용자가 포함된 보안 그룹을 만들어야 합니다.

폴더 리디렉션에 대한 보안 그룹을 만드는 방법은 다음과 같습니다.

1. Active Directory 관리 센터가 설치된 컴퓨터에서 서버 관리자를 엽니다.
2. **도구** 메뉴에서 **Active Directory 관리 센터**를 선택합니다. Active Directory 관리 센터가 표시됩니다.
3. 해당 도메인이나 OU를 마우스 오른쪽 단추로 클릭하고 **새로 만들기**를 선택한 다음, **그룹**을 선택합니다.
4. **그룹 만들기** 창의 **그룹** 섹션에서 다음 설정을 지정합니다.
    - **그룹 이름**에 보안 그룹의 이름(예: **폴더 리디렉션 사용자**.
    - **그룹 범위**에서 **보안**을 선택한 다음, **글로벌**을 선택합니다.
5. **구성원** 섹션에서 **추가**를 선택합니다. 사용자, 연락처, 컴퓨터, 서비스 계정 또는 그룹 선택 대화 상자가 나타납니다.
6. 폴더 리디렉션을 배포하려는 사용자 또는 그룹 이름을 입력하고 **확인**을 선택한 다음, **확인**을 다시 선택합니다.

## <a name="step-2-create-a-file-share-for-redirected-folders"></a>2단계: 리디렉션된 폴더의 파일 공유 만들기

리디렉션된 폴더의 파일 공유가 아직 없는 경우 다음 절차에 따라 Windows Server 2012를 실행하는 서버에 파일 공유를 만듭니다.

> [!NOTE]
> 다른 버전의 Windows Server를 실행하는 서버에서 파일 공유를 만드는 경우 일부 기능이 다르거나 사용하지 못할 수도 있습니다.

Windows Server 2019, Windows Server 2016 및 Windows Server 2012에서 파일 공유를 만드는 방법은 다음과 같습니다.

1. 서버 관리자 탐색 창에서 **파일 및 스토리지 서비스**를 선택한 다음, **공유**를 선택하여 공유 페이지를 표시합니다.
2. **공유**타일에서 **작업**을 선택한 다음, **새 공유**를 선택합니다. 새 공유 마법사가 나타납니다.
3. **프로필 선택** 페이지에서 **SMB 공유 – 빠른**을 선택합니다. 파일 서버 리소스 관리자가 설치되어 있고 폴더 관리 속성을 사용하는 경우에는 대신 **SMB 공유 - 고급**을 선택합니다.
4. **공유 위치** 페이지에서 공유를 만들 서버 및 볼륨을 선택합니다.
5. **공유 이름** 페이지의 **공유 이름**상자에 공유 이름(예: **Users$** )을 입력합니다.
    >[!TIP]
    >공유를 만들 때 공유 이름 뒤에 ```$``` 를 붙여 공유를 숨깁니다. 그러면 일반 브라우저에서 공유가 숨겨집니다.
6. **기타 설정** 페이지에서 [지속적인 가용성 사용] 확인란(있는 경우)을 선택 취소하고, 필요에 따라 **액세스 기반 열거 사용** 및 **데이터 액세스 암호화** 확인란을 선택합니다.
7. **사용 권한** 페이지에서 **사용 권한 사용자 지정**을 선택합니다. 고급 보안 설정 대화 상자가 나타납니다.
8. **상속 사용 안 함**을 선택한 다음, **상속된 사용 권한을 이 개체에 대한 명시적 사용 권한으로 변환합니다.** 를 선택합니다.
9. 표 1에 설명되고 그림 1에 표시된 대로, 나열되지 않은 그룹 및 계정에 대한 권한을 제거하고, 1단계에서 만든 폴더 리디렉션 사용자 그룹에 특정 권한을 추가하여 사용 권한을 설정합니다.
    
    ![리디렉션된 폴더 공유에 대한 사용 권한 설정](media/deploy-folder-redirection/setting-the-permissions-for-the-redirected-folders-share.png)
    
    **그림 1** 리디렉션된 폴더 공유에 대한 사용 권한 설정
10. **SMB 공유 - 고급** 프로필을 선택한 경우 **관리 속성** 페이지에서 **사용자 파일** 폴더 사용량 값을 선택합니다.
11. **SMB 공유 - 고급** 프로필을 선택한 경우 **할당량** 페이지에서 필요에 따라 공유의 사용자에게 적용할 할당량을 선택합니다.
12. **확인** 페이지에서 **만들기**를 선택합니다.

### <a name="required-permissions-for-the-file-share-hosting-redirected-folders"></a>리디렉션된 폴더를 호스트하는 파일 공유에 필요한 권한

| 사용자 계정  | 액세스  | 적용 대상  |
| --------- | --------- | --------- |
| 사용자 계정 | 액세스 | 적용 대상 |
| System     | 모든 권한        |    이 폴더, 하위 폴더 및 파일     |
| Administrators     | 모든 권한       | 이 폴더만        |
| 만든 이/소유자     |   모든 권한      |   하위 폴더 및 파일만      |
| 공유에 데이터를 저장해야 하는 사용자의 보안 그룹(폴더 리디렉션 사용자)     |   폴더 나열/데이터 읽기 *(고급 권한)* <br /><br />폴더 만들기/데이터 추가 *(고급 권한)* <br /><br />특성 읽기 *(고급 권한)* <br /><br />확장된 특성 읽기 *(고급 권한)* <br /><br />권한 읽기 *(고급 권한)*      |  이 폴더만       |
| 다른 그룹 및 계정     |  없음(제거)       |         |

## <a name="step-3-create-a-gpo-for-folder-redirection"></a>3단계: 폴더 리디렉션에 대한 GPO 만들기

폴더 리디렉션 설정에 대한 GPO를 아직 만들지 않은 경우 다음 절차에 따라 만듭니다.

폴더 리디렉션에 대한 GPO를 만드는 방법은 다음과 같습니다.

1. 그룹 정책 관리가 설치된 컴퓨터에서 서버 관리자를 엽니다.
2. **도구** 메뉴에서 **그룹 정책 관리**를 선택합니다.
3. 폴더 리디렉션을 설치할 도메인 또는 OU를 마우스 오른쪽 단추로 클릭한 다음, **이 도메인에서 GPO를 만들어 여기에 연결**을 선택합니다.
4. **새 GPO** 대화 상자에서 GPO 이름(예: **폴더 리디렉션 설정**)을 입력한 다음, **확인**을 선택합니다.
5. 새로 만든 GPO를 마우스 오른쪽 단추로 클릭하고 **연결 사용** 확인란의 선택을 취소합니다. 그러면 구성을 마칠 때까지 GPO가 적용되지 않습니다.
6. GPO를 선택합니다. **범위** 탭의 **보안 필터링** 섹션에서 **인증된 사용자**를 선택하고 **제거**를 선택하여 GPO가 모든 사용자에게 적용되지 않도록 합니다.
7. **보안 필터링** 섹션에서 **추가**를 선택합니다.
8. **사용자, 컴퓨터 또는 그룹 선택** 대화 상자에 1단계에서 만든 보안 그룹의 이름(예: **폴더 리디렉션 사용자**)을 입력한 다음, **확인**을 선택합니다.
9. **위임** 탭을 선택하고 **추가**를 선택하고 **인증된 사용자**를 입력한 다음, **확인**을 선택하고 다시 **확인**을 선택하여 기본 읽기 권한을 적용합니다.
    
    [MS16-072](https://support.microsoft.com/help/3163622/ms16-072-security-update-for-group-policy-june-14-2016)의 보안 변경으로 인해 이 단계가 필요합니다.

> [!IMPORTANT]
> [MS16-072](https://support.microsoft.com/help/3163622/ms16-072-security-update-for-group-policy-june-14-2016)의 보안 변경으로 인해, 이제 인증된 사용자 그룹에 폴더 리디렉션 GPO에 대한 읽기 권한을 위임해야 합니다. 그렇지 않으면 GPO가 사용자에게 적용되지 않거나, 이미 적용된 경우 GPO가 제거되고 폴더가 다시 로컬 PC로 리디렉션됩니다. 자세한 내용은 [그룹 정책 보안 업데이트 MS16-072 배포](https://blogs.technet.microsoft.com/askds/2016/06/22/deploying-group-policy-security-update-ms16-072-kb3163622/)를 참조하세요.

## <a name="step-4-configure-folder-redirection-with-offline-files"></a>4단계: 오프라인 파일을 사용한 폴더 리디렉션 구성

폴더 리디렉션 설정에 대한 GPO를 만든 후에는 다음 절차에 설명된 대로 그룹 정책 설정을 편집하여 폴더 리디렉션을 사용하도록 설정하고 구성합니다.

> [!NOTE]
> 오프라인 파일은 Windows 클라이언트 컴퓨터의 리디렉션된 폴더에 대해 기본적으로 사용하도록 설정되며, Windows Server를 실행하는 컴퓨터에서는 사용자가 변경하지 않는 이상 사용하지 않도록 설정됩니다. 그룹 정책을 사용하여 오프라인 파일의 사용 여부를 제어하려면 **오프라인 파일 기능의 사용을 허용하거나 허용하지 않음** 정책 설정을 사용합니다.
> 다른 오프라인 파일 그룹 정책 설정에 대한 자세한 내용은 [고급 오프라인 파일 기능 사용](<https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2012-r2-and-2012/dn270369(v%3dws.11)>) 및 [오프라인 파일의 그룹 정책 구성](<https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2003/cc759721(v%3dws.10)>)을 참조하세요.

그룹 정책에서 폴더 리디렉션을 구성하는 방법은 다음과 같습니다.

1. [그룹 정책 관리]에서, 이전에 만든 GPO(예: **폴더 리디렉션 설정**)를 마우스 오른쪽 단추로 클릭한 다음, **편집**을 선택합니다.
2. [그룹 정책 관리 편집기] 창에서 **사용자 구성**, **정책**, **Windows 설정**, **폴더 리디렉션**으로 이동합니다.
3. 리디렉션할 폴더(예: **문서**)를 마우스 오른쪽 단추로 클릭한 다음, **속성**을 선택합니다.
4. **속성** 대화 상자의 **설정** 상자에서 **기본 - 모든 사용자의 폴더를 동일한 위치로 리디렉션**을 선택합니다.

    > [!NOTE]
    > Windows XP 또는 Windows Server 2003을 실행하는 클라이언트 컴퓨터에 폴더 리디렉션을 적용하려면 **설정** 탭을 선택하고 **Windows 2000, Windows 2000 Server, Windows XP 및 Windows Server 2003 운영 체제에도 리디렉션 정책을 적용합니다.** 확인란을 선택합니다.

5. **대상 폴더 위치** 섹션에서 **루트 경로 아래의 각 사용자에 대해 폴더 만들기**를 선택한 다음, **루트 경로** 상자에 리디렉션된 폴더를 저장하는 파일 공유의 경로(예: **\\\\fs1.corp.contoso.com\\users$** )를 입력합니다.
6. **설정** 탭을 선택하고, **정책 제거** 섹션에서 필요에 따라 **정책이 제거될 때 로컬 사용자 프로필 위치로 다시 폴더 리디렉션**을 선택합니다. 이 설정은 관리자 및 사용자가 폴더 리디렉션의 동작을 보다 쉽게 예측하는 데 도움이 됩니다.
7. **확인**을 선택한 다음, 경고 대화 상자에서 **예**를 선택합니다.

## <a name="step-5-enable-the-folder-redirection-gpo"></a>5단계: 폴더 리디렉션 GPO 사용

폴더 리디렉션 그룹 정책 설정 구성을 완료한 후에는 GPO를 사용하도록 설정하여 영향을 받는 사용자에게 적용하는 것입니다.

> [!TIP]
> 기본 컴퓨터 지원 또는 다른 정책 설정을 구현하려면 GPO를 사용하도록 설정하기 전에 지금 구현합니다. 그러면 기본 컴퓨터 지원을 사용하기 전에 사용자 데이터가 기본이 아닌 컴퓨터에 복사되는 것이 방지됩니다.

폴더 리디렉션 GPO를 사용하도록 설정하는 방법은 다음과 같습니다.

1. 그룹 정책 관리를 엽니다.
2. 앞에서 만든 GPO를 마우스 오른쪽 단추로 클릭한 다음, **연결 사용**을 선택합니다. 메뉴 항목 옆에 확인란이 표시됩니다.

## <a name="step-6-test-folder-redirection"></a>6단계: 폴더 리디렉션 테스트

폴더 리디렉션을 테스트하려면 폴더 리디렉션용으로 구성된 사용자 계정으로 컴퓨터에 로그인합니다. 그런 다음, 폴더 및 프로필이 리디렉션되는지 확인합니다.

폴더 리디렉션을 테스트하는 방법은 다음과 같습니다.

1. 폴더 리디렉션을 사용하도록 설정한 사용자 계정으로 기본 컴퓨터(기본 컴퓨터 지원을 사용하도록 설정한 경우)에 로그인합니다.
2. 사용자가 이전에 컴퓨터에 로그인한 경우 관리자 권한 명령 프롬프트를 열고 다음 명령을 입력하여 클라이언트 컴퓨터에 최신 그룹 정책 설정이 적용되었는지 확인합니다.
    
    ```PowerShell
    gpupdate /force
    ```
3. 파일 탐색기를 엽니다.
4. 리디렉션된 폴더(예: 문서 라이브러리의 내 문서 폴더)를 마우스 오른쪽 단추로 클릭한 다음, **속성**을 선택합니다.
5. **위치** 탭을 선택하고, 경로가 로컬 경로 대신 본인이 지정한 파일 공유를 표시하는지 확인합니다.

## <a name="appendix-a-checklist-for-deploying-folder-redirection"></a>부록 A: 폴더 리디렉션 배포를 위한 검사 목록

| 상태           | 작업 |
| ---              | ---    |
| ☐<br>☐<br>☐    | 1. 도메인 준비<br>- 컴퓨터를 도메인에 조인<br>- 사용자 계정 만들기 |
| ☐<br><br><br>   | 2. 폴더 리디렉션에 대한 보안 그룹 만들기<br>- 그룹 이름:<br>- 구성원: |
| ☐<br><br>       | 3. 리디렉션된 폴더의 파일 공유 만들기<br>- 파일 공유 이름: |
| ☐<br><br>       | 4. 폴더 리디렉션에 대한 GPO 만들기<br>- GPO 이름: |
| ☐<br><br>☐<br>☐<br>☐<br>☐<br>☐ | 5. 폴더 리디렉션 및 오프라인 파일 정책 설정 구성<br>- 리디렉션된 폴더:<br>- Windows 2000, Windows XP 및 Windows Server 2003 지원을 사용하도록 설정했나요?<br>- 오프라인 파일을 사용하도록 설정했나요? (Windows 클라이언트 컴퓨터에서 기본적으로 사용됨)<br>- 항상 오프라인 모드를 사용하도록 설정했나요?<br>- 백그라운드 파일 동기화를 사용하도록 설정했나요?<br>- 리디렉션된 폴더의 최적화된 이동을 사용하도록 설정했나요? |
| ☐<br><br>☐<br><br>☐<br>☐ | 6. (선택 사항) 기본 컴퓨터 지원 사용<br>- 컴퓨터 기반인가요 아니면 사용자 기반인가요?<br>- 사용자의 기본 컴퓨터 지정<br>- 사용자 및 기본 컴퓨터 매핑 위치:<br>- (선택 사항) 폴더 리디렉션에 기본 컴퓨터 지원 사용<br>- (선택 사항) 로밍 사용자 프로필에 기본 컴퓨터 지원 사용 |
| ☐         | 7. 폴더 리디렉션 GPO 사용 |
| ☐         | 8. 폴더 리디렉션 테스트 |

## <a name="change-history"></a>변경 기록

다음 표에는 이 항목의 중요한 최근 변경 내용이 요약되어 있습니다.

| 날짜 | 설명 | 이유|
| --- | --- | --- |
| 2017년 1월 18일 | [3단계: 폴더 리디렉션에 대한 GPO 만들기](#step-3-create-a-gpo-for-folder-redirection) 단계가 추가되었습니다. 이제 그룹 정책 보안 업데이트 때문에 인증된 사용자에게 읽기 권한을 위임해야 하기 때문입니다. | 고객 의견 |

## <a name="more-information"></a>자세한 정보

* [폴더 리디렉션, 오프라인 파일 및 로밍 사용자 프로필](folder-redirection-rup-overview.md)
* [폴더 리디렉션 및 로밍 사용자 프로필용 기본 컴퓨터 배포](deploy-primary-computers.md)
* [고급 오프라인 파일 기능 사용](enable-always-offline.md)
* [복제된 사용자 프로필 데이터에 대한 Microsoft의 지원 정책](https://blogs.technet.microsoft.com/askds/2010/09/01/microsofts-support-statement-around-replicated-user-profile-data/)
* [DISM을 사용하여 앱을 테스트용으로 로드](<https://docs.microsoft.com/previous-versions/windows/it-pro/windows-8.1-and-8/hh852635(v=win.10)>)
* [Windows 런타임 기반 앱의 패키징, 배포 및 쿼리 문제 해결](https://msdn.microsoft.com/library/windows/desktop/hh973484.aspx)
