---
title: 가상 네트워크 피어링
manager: grcusanz
ms.prod: windows-server
ms.technology: networking-hv-switch
ms.topic: get-started-article
ms.author: anpaul
author: AnirbanPaul
ms.date: 08/08/2018
ms.openlocfilehash: d4dadcabfb911c7722da493c45db112477eab34c
ms.sourcegitcommit: a1641b80c88205c0253f354f2d427d77bb879643
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 06/24/2020
ms.locfileid: "85345417"
---
# <a name="virtual-network-peering"></a>가상 네트워크 피어링

>적용 대상: Windows Server

가상 네트워크 피어 링을 사용 하면 두 가상 네트워크를 원활 하 게 연결할 수 있습니다. 피어 링 한 후에는 연결을 위해 가상 네트워크가 하나로 표시 됩니다. 

가상 네트워크 피어링을 사용하는 이점은 다음과 같습니다.

-   피어 링 가상 네트워크의 가상 머신 간 트래픽은 *개인* IP 주소를 통해서만 백본 인프라를 통해 라우팅됩니다. 가상 네트워크 간의 통신에는 공용 인터넷 또는 게이트웨이가 필요 하지 않습니다.

-   다른 가상 네트워크에 있는 리소스 간에 짧은 대기 시간, 높은 대역폭 연결

-   한 가상 네트워크의 리소스가 다른 가상 네트워크의 리소스와 통신할 수 있는 기능입니다.

-   피어 링을 만들 때 두 가상 네트워크의 리소스에 대 한 가동 중지 시간이 없습니다.

## <a name="requirements-and-constraints"></a>요구 사항 및 제약 조건

가상 네트워크 피어 링에는 몇 가지 요구 사항 및 제약 조건이 있습니다.

- 피어 링 가상 네트워크는 다음을 수행 해야 합니다.

  -   겹치지 않는 IP 주소 공간 포함

  -   동일한 네트워크 컨트롤러에서 관리 해야 합니다.

- 가상 네트워크를 다른 가상 네트워크와 피어 링 하 고 나면 주소 공간에 주소 범위를 추가 하거나 삭제할 수 없습니다.

  >[!TIP]
  >주소 범위를 추가 해야 하는 경우:<ol><li>피어 링을 제거 합니다.</li><li>주소 공간을 추가 합니다.</li><li>피어 링을 다시 추가 합니다.</li></ol>

- 가상 네트워크 피어 링은 두 가상 네트워크 사이에 있기 때문에 피어 링에 대해 파생 된 전이적 관계가 없습니다. 예를 들어 virtualNetworkB를 사용 하 여 virtualNetworkA를 피어 링 하 고 virtualNetworkC를 사용 하 여 virtualNetworkB를 피어 링 하는 경우 virtualNetworkA는 피어 링를 virtualNetworkC 합니다.

## <a name="connectivity"></a>연결

가상 네트워크를 피어 링 하면 두 가상 네트워크의 리소스는 피어 링 가상 네트워크의 리소스에 직접 연결할 수 있습니다.

-   피어 링 가상 네트워크의 가상 머신 간 네트워크 대기 시간은 단일 가상 네트워크 내의 대기 시간과 동일 합니다.

-   네트워크 처리량은 가상 컴퓨터에 대해 허용 되는 대역폭을 기반으로 합니다. 피어링 내에서 대역폭에 대한 추가 제한이 없습니다.

-   피어 링 가상 네트워크의 가상 머신 간 트래픽은 게이트웨이 또는 공용 인터넷을 통하지 않고 백본 인프라를 통해 직접 라우팅됩니다.

-   가상 네트워크의 가상 머신은 피어 링 가상 네트워크의 내부 부하 분산 장치에 액세스할 수 있습니다.

원하는 경우 다른 가상 네트워크 또는 서브넷에 대 한 액세스를 차단 하기 위해 두 가상 네트워크에 Acl (액세스 제어 목록)을 적용할 수 있습니다. 피어 링 가상 네트워크 (기본 옵션) 사이에서 전체 연결을 여는 경우 특정 서브넷 또는 가상 머신에 Acl을 적용 하 여 특정 액세스를 차단 하거나 거부할 수 있습니다. Acl에 대 한 자세한 내용은 [데이터 센터 네트워크 트래픽 흐름을 관리 하기 위해 acl (Access Control 목록) 사용](https://docs.microsoft.com/windows-server/networking/sdn/manage/use-acls-for-traffic-flow)을 참조 하세요.

## <a name="service-chaining"></a>서비스 체이닝

피어 링 가상 네트워크의 가상 머신을 가리키는 사용자 정의 경로를 다음 홉 IP 주소로 구성 하 여 서비스 체인을 사용 하도록 설정할 수 있습니다. 서비스 체인을 사용 하면 피어 링 가상 네트워크에서 사용자 정의 경로를 통해 하나의 가상 네트워크에서 가상 어플라이언스로 트래픽을 보낼 수 있습니다.

허브 가상 네트워크에서 네트워크 가상 어플라이언스와 같은 인프라 구성 요소를 호스트할 수 있는 허브 및 스포크 네트워크를 배포할 수 있습니다. 허브 가상 네트워크를 사용 하는 모든 스포크 가상 네트워크 피어입니다. 트래픽은 허브 가상 네트워크의 네트워크 가상 어플라이언스를 통해 전달 될 수 있습니다.

가상 네트워크 피어 링을 사용 하면 사용자 정의 경로에서 다음 홉이 피어 링 가상 네트워크에 있는 가상 컴퓨터의 IP 주소가 될 수 있습니다. 사용자 정의 경로에 대해 자세히 알아보려면 [Virtual Network에서 네트워크 가상 어플라이언스 사용](https://docs.microsoft.com/windows-server/networking/sdn/manage/use-network-virtual-appliances-on-a-vn)을 참조 하세요.

## <a name="gateways-and-on-premises-connectivity"></a>게이트웨이 및 온-프레미스 연결

다른 가상 네트워크와 피어 링 상관 없이 각 가상 네트워크에는 온-프레미스 네트워크에 연결 하기 위한 자체 게이트웨이가 남아 있을 수 있습니다. 가상 네트워크를 피어 링 하는 경우 피어 링 가상 네트워크의 게이트웨이를 온-프레미스 네트워크에 대 한 전송 지점으로 구성할 수도 있습니다. 이 경우 원격 게이트웨이를 사용 하는 가상 네트워크에는 자체 게이트웨이가 있을 수 없습니다. 가상 네트워크에는 로컬 또는 원격 게이트웨이 (피어 링 가상 네트워크) 중 하나를 사용할 수 있는 게이트웨이 하나만 있을 수 있습니다.

## <a name="monitor"></a>모니터

두 개의 가상 네트워크를 피어 링 하는 경우 피어 링의 각 가상 네트워크에 대 한 피어 링을 구성 해야 합니다.

다음 상태 중 하나일 수 있는 피어 링 연결의 상태를 모니터링할 수 있습니다.

-   **시작 됨:** 첫 번째 가상 네트워크에서 두 번째 가상 네트워크로의 피어 링을 만들 때 표시 됩니다.

-   **연결 됨:** 두 번째 가상 네트워크에서 첫 번째 가상 네트워크로의 피어 링을 만든 후에 표시 됩니다. 첫 번째 가상 네트워크에 대한 피어링 상태가 시작됨에서 연결됨으로 변경됩니다. 가상 네트워크 피어 링을 성공적으로 설정 하기 전에 두 가상 네트워크의 상태가 연결 됨 이어야 합니다.

-   **연결 끊김:** 한 가상 네트워크를 다른 가상 네트워크에서 연결을 끊으면 표시 됩니다.

[상태의 infographic]

## <a name="next-steps"></a>다음 단계
[가상 네트워크 피어 링 구성](sdn-configure-vnet-peering.md):이 절차에서는 Windows PowerShell을 사용 하 여 hnv 공급자 논리 네트워크를 찾고 각각 하나의 서브넷이 있는 두 개의 가상 네트워크를 만듭니다. 또한 두 가상 네트워크 간에 피어 링을 구성 합니다.

