---
title: 2-노드 클러스터 된 파일 서버 배포
ms.prod: windows-server-threshold
ms.manager: eldenc
ms.technology: failover-clustering
ms.topic: article
author: johnmarlin-msft
ms.date: 02/01/2019
description: 이 문서에서는 2-노드 파일 서버 클러스터를 만들기에 대해 설명 합니다.
ms.openlocfilehash: 9f50470b379bd0ab05834eb3c5a35be0f5e9e93a
ms.sourcegitcommit: 48bb3e5c179dc520fa879b16c9afe09e07c87629
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 05/31/2019
ms.locfileid: "66453006"
---
# <a name="deploying-a-two-node-clustered-file-server"></a>2-노드 클러스터 된 파일 서버 배포

> 적용 대상: Windows Server 2019, Windows Server 2016

장애 조치(failover) 클러스터는 응용 프로그램 및 서비스의 가용성을 높이기 위해 함께 작동하는 독립적인 컴퓨터 그룹입니다. 클러스터된 서버(노드라고 함)는 실제 케이블과 소프트웨어로 연결됩니다. 클러스터 노드 중 하나가 실패하면 다른 노드에서 서비스(장애 조치로 알려진 프로세스)를 제공하기 시작합니다. 서비스 중단을 최소화할 수 있습니다.

이 가이드에는 설치 하 고 두 개의 노드가 있는 범용 파일 서버 장애 조치 클러스터 구성에 대 한 단계를 설명 합니다. 이 가이드의 구성을 만들어 장애 조치 클러스터에 알아봅니다를 Windows Server 2019 또는 Windows Server 2016의 장애 조치 클러스터 관리 스냅인에서 인터페이스를 숙지 해야 합니다.

## <a name="overview-for-a-two-node-file-server-cluster"></a>2-노드 파일 서버 클러스터에 대 한 개요

장애 조치 클러스터의 서버 역할, 파일 서버, Hyper-v 서버 또는 데이터베이스 서버 역할을 포함 하 여 다양 한 기능 할 수 있으며 다양 한 다른 서비스 및 응용 프로그램에 대 한 고가용성을 제공할 수 있습니다. 이 가이드에는 2-노드 파일 서버 클러스터를 구성 하는 방법을 설명 합니다.

장애 조치 클러스터는 한 번에 하나의 서버에서 저장소에 지정 된 모든 볼륨은 에서만 액세스할 않지만 일반적으로 클러스터의 모든 서버에 물리적으로 연결 된 저장소 단위를 포함 합니다. 다음 다이어그램에서는 저장소 단위에 연결 하는 2 노드 장애 조치 클러스터를 보여 줍니다.

![두 노드 클러스터](media/Cluster-File-Server/Cluster-FS-Overview.png)

저장소 볼륨 또는 논리 단위 번호 (Lun)는 클러스터의 노드에 노출 다른 클러스터의 서버를 포함 하는 다른 서버에 노출 되어야 합니다. 다음 다이어그램은이 설명 합니다.

![저장소의 Lun](media/Cluster-File-Server/Cluster-FS-LUNs.png)

최대 가용성을 모든 서버에는 서버 관리를 위한 모범 사례에 따라-예를 들어 소프트웨어 변경 하면 완벽 하 게 구현 하기 전에 테스트 서버의 물리적 환경을 신중 하 게 관리 및 신중 하 게 소프트웨어 업데이트 및 모든 클러스터형된 서버에서 구성 변경의 추적 합니다.

다음 시나리오는 파일 서버 장애 조치 클러스터 구성 방법을 설명 합니다. 클러스터 저장소에 공유 되는 파일 되며 클러스터 된 서버 중 하나의 공유 하는 파일 서버 역할도 할 수 있습니다.

## <a name="shared-folders-in-a-failover-cluster"></a>장애 조치 클러스터에서 공유 폴더

다음 목록은 장애 조치 클러스터링에 통합 된 공유 폴더 구성 기능을 보여 줍니다.

- 클러스터 된 공유 폴더에만 (섞이지 않습니다 클러스터 되지 않은 공유 폴더를 사용 하 여) 표시 범위가 지정 됩니다. 경우는 사용자 뷰 공유 폴더는 클러스터 된 파일 서버의 경로 지정 하 여 특정 파일 서버 역할의 일부인 공유 폴더만 표시에 포함 됩니다. 클러스터 되지 않은 공유 폴더 및 공유 부분에서는 클러스터의 노드에서 될 수 있는 별도 파일 서버 역할 제외 됩니다.

- 액세스 기반 열거: 사용자의 보기에서 지정된 된 폴더를 숨기려면 액세스 기반 열거를 사용할 수 있습니다. 폴더를 볼 수 있지만 모든 항목에 액세스 하지를 허용 하는 대신 폴더를 전혀 보지 않도록 선택할 수 있습니다. 클러스터 되지 않은 공유 폴더와 동일한 방식으로 클러스터 된 공유 폴더에 대 한 액세스 기반 열거를 구성할 수 있습니다.

- 오프 라인 액세스: (캐싱) 클러스터 된 공유 폴더에 대 한 클러스터 되지 않은 공유 폴더와 동일한 방식으로 오프 라인 액세스를 구성할 수 있습니다.

- 클러스터링 된 디스크는 항상 클러스터의 일부로 인식 됩니다. 장애 조치 클러스터 인터페이스, Windows 탐색기 또는 공유 및 저장소 관리 스냅인을 사용 하는지 여부를 Windows 디스크를 클러스터 저장소에 있는 것으로 지정 된 여부를 인식 합니다. 이러한 디스크를 이미 구성한 경우 장애 조치 클러스터 관리에서 클러스터 된 파일 서버의 일부로, 사용할 수 있습니다 다음 앞에서 언급 한 인터페이스를 디스크에 공유를 만듭니다. 이러한 디스크는 클러스터 된 파일 서버의 일부로 구성 되지 않았습니다, 실수로에 공유를 만들 수 없습니다. 대신 오류는 디스크를 먼저 구성 해야 클러스터 된 파일 서버의 일부로 공유할 수 있기 전에 나타냅니다.

- 네트워크 파일 시스템용 서비스의 통합: Windows Server에서 파일 서버 역할에 대 한 네트워크 파일 시스템 (NFS) 서비스를 호출 하는 선택적 역할 서비스를 포함 합니다. 역할 서비스를 설치 하 고 NFS 용 서비스를 사용 하 여 공유 폴더를 구성 하 여 UNIX 기반 클라이언트를 지 원하는 클러스터 된 파일 서버를 만들 수 있습니다.

## <a name="requirements-for-a-two-node-failover-cluster"></a>2-노드 장애 조치 클러스터에 대 한 요구 사항

Microsoft에서 공식적으로 지원 되는 솔루션을 고려해 야 하는 Windows Server 2016 또는 Windows Server 2019에 장애 조치 클러스터에 대 한 솔루션에는 다음 조건을 충족 해야 합니다.

- 모든 하드웨어 및 소프트웨어 구성 요소는 적절한 로고에 대한 자격을 충족해야 합니다. Windows Server 2016의 경우 "Certified for Windows Server 2016" 로고입니다. Windows Server 2019 "Certified for Windows Server 2019" 로고입니다. 인증 된 하드웨어 및 소프트웨어 시스템에 대 한 자세한 내용은 Microsoft를 방문 하세요 [Windows Server 카탈로그](https://www.windowsservercatalog.com/default.aspx) 사이트입니다.

- 완전히 구성 된 솔루션 (서버, 네트워크 및 저장소)는 장애 조치 클러스터 스냅인의 일부인 유효성 검사 마법사에서 모든 테스트를 통과 해야 합니다.

다음이 2 개 노드 장애 조치 클러스터에 대 한 필요 합니다.

- **서버:** 동일 하거나 유사한 구성 요소와 일치 하는 컴퓨터를 사용 하는 것이 좋습니다.  2-노드 장애 조치 클러스터에 대 한 서버는 동일한 버전의 Windows Server를 실행 해야 합니다. 이러한 동일한 소프트웨어 업데이트 (패치)도 있어야 합니다.

- **네트워크 어댑터 및 케이블:** 장애 조치 클러스터 솔루션의 다른 구성 요소와 같은 네트워크 하드웨어, Windows Server 2016 또는 Windows Server 2019 호환 되어야 합니다. ISCSI를 사용 하는 경우 네트워크 어댑터 네트워크 통신 또는 iSCSI 전용 이어야 합니다. 클러스터 노드를 연결하는 네트워크 인프라에는 단일 실패 지점이 없도록 해야 합니다. 이 작업을 수행 하는 방법은 여러 가지입니다. 여러 클러스터 노드에 연결할 수 있습니다 네트워크 고유 합니다. 또는 클러스터 노드를 조합된 네트워크 어댑터, 중복 스위치, 중복 라우터 또는 단일 실패 지점을 제거하는 유사한 하드웨어로 구성된 하나의 네트워크에 연결할 수 있습니다.

   > [!NOTE]
   > 단일 네트워크를 사용 하 여 클러스터 노드에 연결 되어 있으면 네트워크 유효성 검사 구성 마법사에서에서 중복성 요구 사항을 전달 합니다.  그러나 보고서에는 네트워크는 단일 실패 지점이 없어야 경고가 포함 됩니다.

- **장치 컨트롤러 또는 저장소에 대 한 적절 한 어댑터:**
    - **직렬 연결 SCSI 또는 파이버 채널:** 모든 클러스터형된 서버에서 Serial Attached SCSI 또는 파이버 채널을 사용 하는, 저장소 스택의 모든 구성 요소가 동일 해야 합니다. 필요 하다는 다중 경로 I/O (MPIO) 소프트웨어 및 장치 DSM (장치별 모듈) 소프트웨어 구성 요소와 동일할 수 있습니다.  클러스터 저장소에 연결된 HBA(호스트 버스 어댑터), HBA 드라이버, HBA 펌웨어 등의 대용량 저장 장치 컨트롤러가 동일한 것이 좋습니다. 유사하지 않은 HBA를 사용하는 경우 해당 저장소 공급업체에서 지원 또는 권장하는 구성을 따르고 있는지 확인해야 합니다.
    - **iSCSI:** ISCSI를 사용 하는 경우 각 클러스터형된 서버에 네트워크 어댑터 또는 ISCSI 저장소에 전용 호스트 버스 어댑터를 하나 이상 있어야 합니다. Iscsi 사용 네트워크는 네트워크 통신에 사용할 수 없습니다. 클러스터형 모든 서버에서 iSCSI 저장소 대상에 연결하는 데 사용하는 네트워크 어댑터가 동일해야 하며 Gigabit Ethernet 이상을 사용하는 것이 좋습니다.  

- **저장소:** Windows Server 2016 또는 Windows Server 2019에 대 한 인증 되어 있는 공유 저장소를 사용 해야 합니다.
  
    2-노드 장애 조치 클러스터용 쿼럼 감시 디스크를 사용 하는 경우 저장소 두 개 이상의 별도 볼륨 (Lun)를 포함 해야 합니다. 감시 디스크는 클러스터 구성 데이터베이스의 복사본을 저장 하도록 지정 된 클러스터 저장소의 디스크. 이 두 노드 클러스터 예를 들어 노드 및 디스크 과반수 쿼럼 구성이 됩니다. 노드 및 디스크 과반수 노드 및 감시 디스크에는 각 클러스터 구성의 복사본을 포함 하 고 이러한 복사본의 과반수 (2 / 3)는 사용 가능한 클러스터에 쿼럼이 의미 합니다. 다른 볼륨 (LUN)에 사용자에 게 공유는 파일이 포함 됩니다.

    다음과 같은 저장소 요구 사항이 있습니다.

    - 장애 조치 클러스터링에 포함된 기본 디스크 지원을 사용하려면 동적 디스크가 아닌 기본 디스크를 사용합니다.
    - 파티션을 NTFS로 포맷 하는 것이 좋습니다 (감시 디스크에 대 한 파티션을 해야 NTFS).
    - 디스크의 파티션 형식으로는 MBR(마스터 부트 레코드) 또는 GPT(GUID 파티션 테이블) 중 하나를 사용할 수 있습니다.
    - 저장소는 저장소 특정 SCSI 명령에 올바르게 응답 해야 기본 명령을 scsi-3 (SPC-3) 이라는 표준을 수행 해야 합니다. 특히 저장소 spc-3 표준에 지정 된 대로 영구 예약을 지원 해야 합니다. 
    -  저장소에 사용 되는 미니 포트 드라이버는 Microsoft Storport 저장소 드라이버를 사용 하 여 작동 해야 합니다.

## <a name="deploying-storage-area-networks-with-failover-clusters"></a>장애 조치(failover) 클러스터로 저장 영역 네트워크 배포

장애 조치 클러스터를 사용 하 여 저장 영역 네트워크 (SAN)를 배포할 때는 다음 지침을 준수 해야 합니다.

- **저장소의 인증을 확인 합니다.** 사용 하는 [Windows Server 카탈로그](https://www.windowsservercatalog.com/default.aspx) 사이트, Windows Server 2016 또는 Windows Server 2019 공급 업체의 저장소, 드라이버, 펌웨어 및 소프트웨어를 포함 하도록 인증 되었는지 확인 합니다.

- **저장 장치 분리, 장치당 클러스터 하나:** 서로 다른 클러스터의 서버가 같은 저장 장치에 액세스하면 안 됩니다. 대부분의 경우, 하나의 클러스터 서버 집합에 사용 되는 LUN은 LUN 마스킹 또는 영역 지정을 통해 다른 모든 서버에서 격리 되어야 합니다.

- **다중 경로 I/O 소프트웨어를 사용 하는 것이 좋습니다.** 가용성이 높은 저장소 패브릭에서 다중 경로 I/O 소프트웨어를 사용 하 여 여러 호스트 버스 어댑터를 사용 하 여 장애 조치 클러스터를 배포할 수 있습니다. 이를 통해 최고 수준의 중복성 및 가용성이 제공됩니다. 다중 경로 솔루션에 Microsoft MPIO (Multipath I/O) 기반 해야 합니다. 저장소 하드웨어 공급 업체는 Windows Server 2016 및 Windows Server 2019 하나 이상의 DSMs 운영 체제의 일부로 포함 되어 있지만, 하드웨어용 MPIO 장치별 모듈 (DSM)을 제공할 수 있습니다.

## <a name="network-infrastructure-and-domain-account-requirements"></a>네트워크 인프라 및 도메인 계정 요구 사항

2-노드 장애 조치 클러스터 및 다음 도메인 권한이 있는 관리자 계정에 대 한 다음 네트워크 인프라가 필요 합니다.

- **네트워크 설정 및 IP 주소:** 네트워크에 동일한 네트워크 어댑터를 사용 하는 경우 동일한 통신 설정 (예: 속도, 이중 모드, 흐름 제어 및 미디어 유형)에 해당 어댑터에서 사용할 수도 있습니다. 또한 네트워크 어댑터와 연결된 스위치 간의 설정을 비교하고 충돌하는 설정이 없는지 확인합니다.

    나머지 네트워크 인프라로 라우팅되지 않는 프라이빗 네트워크가 있는 경우 각 프라이빗 네트워크에서 고유한 서브넷을 사용하는지 확인합니다. 이는 각 네트워크 어댑터에 고유 IP 주소를 부여한 경우에도 필요합니다. 예를 들어 본사에 하나의 실제 네트워크를 사용하는 클러스터 노드가 있고, 지점에 별도의 실제 네트워크를 사용하는 다른 노드가 있는 경우, 각 어댑터에 고유 IP 주소를 부여한 경우에도 두 네트워크 모두에 10.0.0.0/24를 지정하지 마세요.

    네트워크 어댑터에 대 한 자세한 내용은이 가이드의 2 노드 장애 조치 클러스터에 대 한 하드웨어 요구 사항을 참조 하세요.

- **DNS:** 서버 클러스터의 도메인 이름 시스템 (DNS) 이름 확인을 위해 사용 해야 합니다. DNS 동적 업데이트 프로토콜을 사용할 수 있습니다.

- **도메인 역할:** 클러스터의 모든 서버가 동일한 Active Directory 도메인에 있어야 합니다. 모범 사례로서, 모든 클러스터된 서버에는 같은 도메인 역할(구성원 서버 또는 도메인 컨트롤러)이 있어야 합니다. 권장 역할은 구성원 서버입니다.

- **도메인 컨트롤러:** 클러스터 된 서버 구성원 서버 되도록 하는 것이 좋습니다. 경우에 장애 조치 클러스터를 포함 하는 도메인의 도메인 컨트롤러로 작동 하는 추가 서버가 필요 합니다.

- **클라이언트:** 테스트를 위해 필요에 따라 사용자가 만든 장애 조치 클러스터에 하나 이상의 네트워크에 연결 된 클라이언트를 연결 하 고 이동 하거나 다른 클러스터형된 파일 서버 클러스터 노드 간에서 장애 조치할 때 클라이언트에 영향을 확인할 수 있습니다.

- **클러스터 관리에 대 한 계정:** 클러스터를 처음 만들거나 서버를 추가할 때 해당 클러스터의 모든 서버에서 관리자 권한 및 사용 권한이 있는 계정 사용 하 여 도메인에 로그온 해야 합니다. 계정이 Domain Admins 계정일 필요는 없지만 각 클러스터된 서버에서 Administrators 그룹에 속한 Domain Users 계정일 수는 있습니다. 또한 계정이 Domain Admins 계정이 없으면 계정 (또는 그룹의 구성원 인 계정) 지정 해야 합니다 **컴퓨터 개체 만들기** 및 **모든 속성 읽기** 에서 권한을 합니다 도메인 조직 구성 단위 (OU)에 위치 합니다.

## <a name="steps-for-installing-a-two-node-file-server-cluster"></a>2-노드 파일 서버 클러스터를 설치 하는 단계

2-노드 파일 서버 장애 조치 클러스터를 설치 하려면 다음 단계를 완료 해야 합니다.

1단계: 네트워크 및 저장소 클러스터 서버에 연결

2단계: 장애 조치 클러스터 기능 설치

3단계: 클러스터 구성 유효성 검사

4단계: 클러스터 만들기

클러스터 노드를 이미 설치한 경우 파일 서버 장애 조치 클러스터를 구성 하려면이 가이드의 뒷부분에 나오는 2-노드 파일 서버 클러스터를 구성 하기 위한 단계를 참조 하세요.

### <a name="step-1-connect-the-cluster-servers-to-the-networks-and-storage"></a>1단계: 네트워크 및 저장소 클러스터 서버에 연결

장애 조치 클러스터 네트워크의 경우 단일 실패 지점이 필요 하지 마십시오. 이 작업을 수행 하는 방법은 여러 가지입니다. 여러 클러스터 노드에 연결할 수 있습니다 네트워크 고유 합니다. 팀으로 구성 된 네트워크 어댑터, 중복 스위치, 중복 라우터 또는 단일 실패 지점을 제거 하는 유사한 하드웨어를 사용 하 여 생성 된 하나의 네트워크를 사용 하 여 클러스터 노드를 연결할 수는 또는 (iscsi 네트워크를 사용 하는 경우 만들어야 합니다 이 네트워크는 다른 네트워크 외에도)입니다.

2-노드 파일 서버 클러스터, 클러스터 저장소에 서버를 연결 하는 경우 적어도 두 개의 볼륨 (Lun) 노출 해야 합니다. 구성의 철저 한 테스트에 대 한 필요에 따라 추가 볼륨을 노출할 수 있습니다. 클러스터 된 볼륨을 클러스터에 있지 않은 서버를 표시 하지 않습니다.

#### <a name="to-connect-the-cluster-servers-to-the-networks-and-storage"></a>네트워크 및 저장소 클러스터 서버를 연결 하려면

1. 2-노드 장애 조치 클러스터에 대 한 하드웨어 요구 사항 및 네트워크 인프라 및 도메인 계정 요구 사항 2-노드 장애 조치 클러스터의 경우이 가이드의 앞부분에서 네트워크에 대 한 세부 정보를 검토 합니다.

2. 클러스터의 서버에서 사용할 네트워크를 연결하고 구성합니다.

3. 테스트 구성에서 클라이언트 또는 클러스터 되지 않은 도메인 컨트롤러를 포함 하는 경우 이러한 컴퓨터 하나 이상의 네트워크를 통해 클러스터 된 서버에 연결할 수 있는지 확인 합니다.

4. 서버를 실제로 저장소에 연결하는 방법은 제조업체의 지침을 따릅니다.

5. 클러스터에서 사용할 디스크(LUN)가 클러스터할 서버에만 노출되는지 확인합니다. 디스크 또는 Lun을 노출 하는 다음 인터페이스 중 하나를 사용할 수 있습니다.

    - 저장소 제조업체가 제공한 인터페이스

    - ISCSI에 대 한 적절 한 iSCSI 인터페이스를 사용 하는 경우

6. 형식이 나 디스크의 기능을 제어 하는 소프트웨어를 구입한 경우 Windows Server를 사용 하 여 소프트웨어를 사용 하는 방법에 대 한 공급 업체의 지침을 따릅니다.

7. 클러스터의 경우 시작 하려는 서버 중 하나에서 관리 도구, 컴퓨터 관리를 클릭 및 디스크 관리를 차례로 클릭 합니다. (사용자 계정 컨트롤 대화 상자가 나타나면 원하는 작업이 표시 되는지 확인 및 클릭 한 다음 계속 합니다.) 디스크 관리에서 클러스터 디스크가 표시 되는지 확인 합니다.

8. Windows 인터페이스를 사용하여 디스크 형식을 제어하는 경우 2TB가 넘는 저장소 볼륨을 원한다면 해당 디스크를 GPT(GUID 파티션 테이블)라는 파티션 형식으로 변환합니다. 이렇게 하려면 디스크에 데이터를 백업, 디스크에 모든 볼륨을 삭제 하 고 그런 다음 디스크 관리에서 디스크 (파티션이 아님)을 마우스 오른쪽 단추로 GPT 디스크로 변환을 클릭 합니다.  볼륨이 2TB보다 작은 경우에는 GPT를 사용하는 대신 MBR(마스터 부트 레코드)이라는 파티션 형식을 사용할 수 있습니다.

9. 표시된 모든 볼륨 또는 LUN의 형식을 확인합니다. 형식에 대 한 NTFS 것이 좋습니다 (감시 디스크를 NTFS 사용 해야 합니다).

### <a name="step-2-install-the-file-server-role-and-failover-cluster-feature"></a>2단계: 파일 서버 역할 및 장애 조치 클러스터 기능 설치

이 단계에서는 파일 서버 역할 및 장애 조치 클러스터 기능 설치 됩니다. 두 서버는 Windows Server 2016 또는 Windows Server 2019 실행 되어야 합니다.

#### <a name="using-server-manager"></a>서버 관리자를 사용 하 여

1. 오픈 **서버 관리자** 고 합니다 **관리** 드롭다운을 선택 합니다 **역할 및 기능 추가**합니다.

   ![기능 추가](media/Cluster-File-Server/Cluster-FS-Add-Feature.png)

2. 경우는 **시작 하기 전에** 창이 열리면 **다음**합니다.

3. 에 대 한 합니다 **설치 유형**를 선택 **역할 기반 또는 기능 기반 설치** 하 고 **다음**합니다.

4. 확인 **서버 풀에서 서버 선택** 는 선택한 컴퓨터의 이름을 강조 표시 됩니다, 그리고 및 **다음**합니다.

5. 서버 역할의 역할 목록에서 엽니다 **파일 서비스**를 선택 **파일 서버**, 및 **다음**합니다.

   ![역할 추가](media/Cluster-File-Server/Cluster-FS-Add-FS-Role-1.png)

6. 기능 목록에서 기능 선택 **장애 조치 클러스터링**합니다.  팝업 대화 상자도 설치 되 고 관리 도구를 나열 하는 표시 됩니다.  모든 선택 된 선택 **기능 추가** 하 고 **다음**합니다.

   ![기능 추가](media/Cluster-File-Server/Cluster-FS-Add-WSFC-1.png)

7. 확인 페이지에서 설치를 선택 합니다.

8. 설치가 완료 되 면 컴퓨터를 다시 시작 합니다.

9. 두 번째 컴퓨터에 대 한 단계를 반복 합니다.

#### <a name="using-powershell"></a>PowerShell 사용

1. 시작 단추를 마우스 오른쪽 단추로 클릭 한 다음 선택 하 여 관리자 PowerShell 세션을 엽니다 **Windows PowerShell (관리자)** 합니다.
2. 파일 서버 역할을 설치 하려면 명령을 실행 합니다.

    ```PowerShell
    Install-WindowsFeature -Name FS-FileServer
    ```

3. 장애 조치 클러스터링 기능 및 해당 관리 도구를 설치 하려면 명령을 실행 합니다.

    ```PowerShell
    Install-WindowsFeature -Name Failover-Clustering -IncludeManagementTools
    ```

4. 완료 된 후 명령을 사용 하 여 설치를 확인할 수 있습니다.

    ```PowerShell
    Get-WindowsFeature -Name FS-FileServer
    Get-WindowsFeature -Name Failover-Clustering
    ```

5. 설치를 확인 한 후 명령 사용 하 여 컴퓨터를 다시 시작 합니다.

    ```PowerShell
    Restart-Computer
    ```

6. 두 번째 서버에 대 한 단계를 반복 합니다.

### <a name="step-3-validate-the-cluster-configuration"></a>3단계: 클러스터 구성 유효성 검사

클러스터를 만들기 전에 구성의 유효성을 검사 하는 것이 좋습니다. 유효성 검사를 사용 하면 서버, 네트워크 및 저장소 구성의 장애 조치 클러스터에 대 한 특정 요구를 충족 하는지 확인 합니다.

#### <a name="using-failover-cluster-manager"></a>장애 조치 클러스터 관리자를 사용 하 여

1. **서버 관리자**를 선택 합니다 **도구** 선택한 드롭다운 **장애 조치 클러스터 관리자**합니다.

2. **장애 조치 클러스터 관리자**가운데 열에서로 이동 하세요 **Management** 선택한 **구성 유효성 검사**.

3. 경우는 **시작 하기 전에** 창이 열리면 **다음**합니다.

4. 에 **서버 선택 또는 클러스터** 창 두 클러스터의 노드가 될 컴퓨터의 이름에 추가 합니다.  이름을 NODE1과 NODE2 경우 이름을 입력 하 고 선택 예를 들어 **추가**합니다.  선택할 수도 있습니다는 **찾아보기** 이름에 대 한 Active Directory를 검색 하는 단추입니다.  둘 다가 나열 되 면 **서버 선택**, 선택 **다음**합니다.

5. 에 **테스트 옵션** 창에서 **(권장) 모든 테스트를 실행**, 및 **다음**합니다.

6. 에 **확인** 페이지를 통해 확인 된 모든 테스트의 목록입니다.  선택할 **다음** 테스트가 시작 됩니다.

7. 완료 되 면 합니다 **요약** 테스트가 실행 된 후 페이지가 나타납니다. 결과 해석 하는 데 도움이 되는 도움말 항목을 보려면 클릭 **클러스터 유효성 검사 테스트에 자세히 알아보세요**합니다.

8. 요약 페이지에서 계속 하는 동안 보고서 보기를 클릭 하 고 테스트 결과 읽습니다. 구성에서 필요한 변경을 수행 하 고 테스트를 다시 실행 합니다. <br>마법사를 닫은 후 테스트 결과 보려면를 참조 하세요 *SystemRoot\Cluster\Reports\Validation 보고서 날짜 및 time.html*합니다.

9. 장애 조치 클러스터 관리에서 마법사를 닫은 후 클러스터 유효성 검사에 대 한 도움말 항목을 보려면 도움말, 도움말 항목을 클릭, 목차 탭, 장애 조치 클러스터 도움말에 대 한 내용을 확장 및 장애 조치 클러스터 구성 유효성 검사를 클릭합니다 .

#### <a name="using-powershell"></a>PowerShell 사용

1. 시작 단추를 마우스 오른쪽 단추로 클릭 한 다음 선택 하 여 관리자 PowerShell 세션을 엽니다 **Windows PowerShell (관리자)** 합니다.

2. 장애 조치 클러스터링에 대 한 컴퓨터 (예를 들어 NODE1 및 NODE2 컴퓨터 이름) 유효성을 검사 하는 명령을 실행 합니다.

    ```PowerShell
    Test-Cluster -Node "NODE1","NODE2"
    ```
4. 마법사를 닫은 후 테스트 결과 보려면 지정 된 파일 참조 (SystemRoot\Cluster\Reports에서\), 다음 구성에서 필요한 내용을 변경 및 테스트를 다시 실행 합니다.

자세한 내용은 참조 하세요. [장애 조치 클러스터 구성 유효성 검사](https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2012-r2-and-2012/jj134244(v=ws.11))합니다.

### <a name="step-4-create-the-cluster"></a>4단계: 클러스터 만들기

다음은 컴퓨터 및 해야 하는 구성에서 클러스터를 만듭니다.

#### <a name="using-failover-cluster-manager"></a>장애 조치 클러스터 관리자를 사용 하 여

1. **서버 관리자**를 선택 합니다 **도구** 선택한 드롭다운 **장애 조치 클러스터 관리자**합니다.

2. **장애 조치 클러스터 관리자**가운데 열에서로 이동 **Management** 선택한 **클러스터 만들기**합니다.

3. 경우는 **시작 하기 전에** 창이 열리면 **다음**합니다.

4. 에 **서버 선택** 창 두 클러스터의 노드가 될 컴퓨터의 이름에 추가 합니다.  이름을 NODE1과 NODE2 경우 이름을 입력 하 고 선택 예를 들어 **추가**합니다.  선택할 수도 있습니다는 **찾아보기** 이름에 대 한 Active Directory를 검색 하는 단추입니다.  둘 다가 나열 되 면 **서버 선택**, 선택 **다음**합니다.

5. 에 **클러스터 관리 액세스 지점** 창 사용 하려는 클러스터의 이름을 입력 합니다.  하세요 되지 않는다는 참고 파일을 연결에 사용할 이름을와 공유 합니다.  이 클러스터를 관리 하기만 하면 됩니다.

   > [!NOTE]
   > 고정 IP 주소를 사용 하는 경우에 클러스터 이름에 사용할 IP 주소를 입력 하 고 사용 하 여 네트워크를 선택 해야 합니다.  DHCP IP 주소를 사용 하는 IP 주소를 자동으로 구성 됩니다.

6. 선택할 **다음**합니다.

7. 에 **확인** 페이지에서 구성 및 작업 선택 **다음** 클러스터를 만듭니다.

8. 에 **요약** 페이지를 통해 만들어지고, 구성 합니다.  만들 보고서를 보려면 보고서 보기를 선택할 수 있습니다.

#### <a name="using-powershell"></a>PowerShell 사용

1. 시작 단추를 마우스 오른쪽 단추로 클릭 한 다음 선택 하 여 관리자 PowerShell 세션을 엽니다 **Windows PowerShell (관리자)** 합니다.

2. 고정 IP 주소를 사용 하는 경우 클러스터를 만들려면 다음 명령을 실행 합니다.  예를 들어, 컴퓨터 이름에는 NODE1과 NODE2, 클러스터의 이름에 클러스터 됩니다 및 IP 주소 1.1.1.1 됩니다.

   ```PowerShell
    New-Cluster -Name CLUSTER -Node "NODE1","NODE2" -StaticAddress 1.1.1.1
   ```

3. IP 주소에 대 한 DHCP를 사용 하는 경우 클러스터를 만들려면 다음 명령을 실행 합니다.  예를 들어, 컴퓨터 이름에는 NODE1과 NODE2를 및 클러스터의 이름에 클러스터 됩니다.

   ```PowerShell    
   New-Cluster -Name CLUSTER -Node "NODE1","NODE2"
   ```

### <a name="steps-for-configuring-a-file-server-failover-cluster"></a>파일 서버 장애 조치 클러스터를 구성 하는 단계

파일 서버 장애 조치 클러스터를 구성 하려면 다음과 아래 단계입니다.

1. **서버 관리자**를 선택 합니다 **도구** 선택한 드롭다운 **장애 조치 클러스터 관리자**합니다.

2. 장애 조치 클러스터 관리자가 열리면 만든 클러스터의 이름을 자동으로 준비 해야 합니다.  그렇지 않은 경우 아래 가운데 열으로 이동 **관리** 선택한 **클러스터에 연결**합니다.  만든 클러스터의 이름을 입력 하 고 **확인**합니다.

3. 콘솔 트리에서 클릭을 ">" 옆 그 아래에 있는 항목을 확장 하기 위해 만든 클러스터에 로그인 합니다.

4. 마우스 오른쪽 단추로 클릭 **역할** 선택한 **역할 구성**합니다.

5. 경우는 **시작 하기 전에** 창이 열리면 **다음**합니다.

6. 역할 목록에서 선택 **파일 서버** 하 고 **다음**합니다.

7. 파일 서버 유형 선택 **범용 파일 서버** 하 고 **다음**합니다.<br>스케일 아웃 파일 서버에 대 한 자세한 내용은 참조 하십시오 [스케일 아웃 파일 서버 개요](sofs-overview.md)합니다.

   ![파일 서버 유형](media/Cluster-File-Server/Cluster-FS-File-Server-Type.png)

8. 에 **클라이언트 액세스 지점** 창에서 사용할 파일 서버의 이름을 입력 합니다.  클러스터의 이름의 아님을 note 하십시오.  파일 공유 연결입니다.  예를 들어에 연결할 \\서버 이름을 입력 하면 서버 것입니다.

   > [!NOTE]
   > 고정 IP 주소를 사용 하는 경우에 클러스터 이름에 사용할 IP 주소를 입력 하 고 사용 하 여 네트워크를 선택 해야 합니다.  DHCP IP 주소를 사용 하는 IP 주소를 자동으로 구성 됩니다.

6. 선택할 **다음**합니다.

7. 에 **저장소 선택** 창 공유 위치를 포함 하는 추가 드라이브 (미러링 모니터 서버)를 선택 하 고 **다음**합니다.

8. 에 **확인** 페이지에서 구성을 확인 하 고 선택 **다음**합니다.

9. 에 **요약** 페이지를 통해 만들어지고, 구성 합니다.  파일 서버 역할 만들기의 보고서를 보려면 보고서 보기를 선택할 수 있습니다.

10. 아래 **역할** 콘솔 트리에서 새로 만든 역할을 만든 이름으로 나열 표시 됩니다.  이 강조 표시 된, 아래 합니다 **작업** 오른쪽 창의 선택 **공유 추가**합니다.

11. 다음 입력 공유 마법사를 통해 실행 합니다.

    - 공유는 것이 유형
    - 위치/경로 공유 폴더가 됩니다.
    - 공유 사용자 이름을 연결합니다
    - 캐싱, 암호화 등 액세스 기반 열거와 같은 추가 설정
    - 기본값 이외의 될 경우 파일 수준 권한

12. 에 **확인** 페이지에서 구성 및 작업 선택 **만들기** 파일 서버 공유를 만들 수 있습니다.

13. 에 **결과** 페이지, 공유를 만든 경우 닫기를 선택 합니다.  공유를 만들지 못했습니다 발생 한 오류를 제공 합니다.

14. 선택할 **닫기**합니다.

15. 모든 추가 공유에 대 한이 프로세스를 반복 합니다.