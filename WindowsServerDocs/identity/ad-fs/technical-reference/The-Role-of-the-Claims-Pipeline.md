---
ms.assetid: ffb9d63c-ba7c-4ad1-b814-6db67f98c943
title: 클레임 파이프라인의 역할
description: ''
author: billmath
ms.author: billmath
manager: femila
ms.date: 05/31/2017
ms.topic: article
ms.prod: windows-server-threshold
ms.technology: identity-adfs
ms.openlocfilehash: 7891f1d0b96df84e8ac4f3eb670f30350d3c194c
ms.sourcegitcommit: 0b5fd4dc4148b92480db04e4dc22e139dcff8582
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 05/24/2019
ms.locfileid: "66188445"
---
# <a name="the-role-of-the-claims-pipeline"></a>클레임 파이프라인의 역할
Active Directory Federation Services에서 클레임 파이프라인 \(AD FS\) 발급할 수 전에 페더레이션 서비스를 통해 클레임이 따라야 하는 경로 나타냅니다. 페더레이션 서비스 관리 전체 끝\-에\-도 클레임 규칙 엔진에서 클레임 규칙의 처리를 포함 하는 클레임 파이프라인의 다양 한 단계를 통해 클레임 흐름의 프로세스를 종료 합니다.  
  
클레임 규칙에 대 한 자세한 내용은 참조 하세요. [규칙의 역할 클레임](The-Role-of-Claim-Rules.md)합니다. 클레임 규칙 엔진에서 규칙을 처리하는 방법에 대한 자세한 내용은 [The Role of the Claims Engine](The-Role-of-the-Claims-Engine.md)을 참조하세요.  
  
다음 섹션에서는 페더레이션 서비스에서 감독하는 프로세스에 대해 더 자세히 설명합니다.  
  
## <a name="claims-pipeline-process"></a>클레임 파이프라인 프로세스  
클레임 파이프라인 프로세스 구성의 세 가지 높은\-단계 수준입니다. 이 프로세스의 각 단계는 클레임 규칙 엔진을 초기화하여 해당 단계와 관련된 클레임 규칙을 처리합니다. 이러한 단계가 포함 됩니다. \(발생 하는 순서로\):  
  
1.  들어오는 클레임 수용 - 클레임 파이프라인의 이 단계는 토큰에서 들어오는 클레임을 추출하고 예기치 않은 클레임이나 신뢰할 수 없는 클레임을 제거하는 데 사용됩니다. 추출 후에는 클레임 공급자 트러스트를 위한 수용 변환 규칙 집합을 구성하는 수용 규칙이 실행됩니다. 이러한 규칙을 사용하여 클레임 파이프라인의 이후 단계에서 사용할 수 있는 새 클레임을 전달 또는 추가할 수 있습니다. 이 단계의 출력은 두 번째 및 세 번째 단계에 대한 입력으로 사용됩니다.  
  
2.  클레임 요청자 권한 부여 - 이 단계는 토큰 요청자가 해당 신뢰 당사자의 토큰을 얻을 수 있는지 여부를 기준으로 클레임 엔진에서 허가를 발급하거나 클레임을 거부하는 데 사용됩니다. 그러나 그전에 신뢰 당사자 트러스트를 위한 발급 권한 부여 규칙 집합 또는 위임 권한 부여 규칙 중 하나를 구성하는 권한 부여 규칙을 실행해야 합니다.  
  
3.  나가는 클레임 발급 - 이 단계는 나가는 클레임을 발급하여 보안 토큰 패키지에 포함될 파이프라인을 따라 전달하는 데 사용됩니다. 그러나 그전에 신뢰 당사자 트러스트를 위한 발급 변환 규칙 집합을 구성하는 발급 규칙을 실행하여 나가는 클레임으로 발급될 클레임을 확인해야 합니다.  
  
위의 세 단계는 모두 클레임 규칙 처리를 수행하지만 각각 다른 규칙 집합을 사용합니다. 각 단계는 들어오는 클레임의 발급자를 기준으로 규칙 집합이 연결 되어 위에서 설명한 대로 \(수용 규칙\) 또는 claimincludes가 발급 되 고 대상 서비스 \(권한 부여 및 발급 규칙\)합니다.  
  
클레임은 토큰\-되지만 알 수 없는 보안 토큰에 캡슐화 된 네트워크를 통해 전송 합니다. 클레임 규칙은 들어오거나 나가는 보안 토큰의 형식에 관계없이 클레임을 통해 작동합니다.  
  
클레임 규칙에 포함 된 관리자\-신뢰 당사자에 필요한 정의 된 논리는 클레임 엔진은 들어오는 클레임을 수락, 요청자의 id를 기반으로 하는 클레임에 권한을 부여 하 고 클레임을 발급 합니다. 궁극적으로 클레임 파이프라인을 통해 클레임이 이동된 다음 발급될 보안 토큰에 포함되는 클레임을 결정하는 것은 클레임 엔진입니다.  
  
다음 그림에 표시 된 것과 같이 클레임 파이프라인은 전체 종료를 담당\-에\-한 신뢰를 통해 전송 되는 발급 된 클레임을 사용 하 여 종료 하기 위해 다양 한 파이프라인 단계를 통해 클레임을 전달 하는 프로세스를 종료 합니다. 당사자 트러스트 합니다. 일러스트레이션에서 나가는 클레임은 발급된 클레임을 나타냅니다.  
  
![AD FS 역할](media/adfs2_pipeline.gif)  
  
일러스트레이션에는 표시되지 않았지만 각 단계에서 규칙의 실제 처리를 수행하는 것은 클레임 엔진입니다. 자세한 내용은 [The Role of the Claims Engine](The-Role-of-the-Claims-Engine.md)를 참조하세요.  
  

