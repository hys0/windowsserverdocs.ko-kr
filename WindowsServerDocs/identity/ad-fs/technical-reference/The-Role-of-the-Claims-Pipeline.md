---
ms.assetid: ffb9d63c-ba7c-4ad1-b814-6db67f98c943
title: 클레임 파이프라인의 역할
description: ''
author: billmath
ms.author: billmath
manager: femila
ms.date: 05/31/2017
ms.topic: article
ms.prod: windows-server
ms.technology: identity-adfs
ms.openlocfilehash: 6aafa37b06599f4114cf076e87415fece128fb05
ms.sourcegitcommit: 6aff3d88ff22ea141a6ea6572a5ad8dd6321f199
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 09/27/2019
ms.locfileid: "71407333"
---
# <a name="the-role-of-the-claims-pipeline"></a>클레임 파이프라인의 역할
Active Directory Federation Services \(ADFS\) 의 클레임 파이프라인은 클레임을 발급 하기 전에 페더레이션 서비스를 통해 클레임이 따라야 하는 경로를 나타냅니다. 페더레이션 서비스는 클레임 파이프라인의 다양\-한\-단계를 통해 클레임 흐름의 전체 종단 간 프로세스를 관리 합니다. 여기에는 클레임 규칙 엔진에의 한 클레임 규칙의 처리도 포함 됩니다.  
  
클레임 규칙에 대 한 자세한 내용은 [클레임 규칙의 역할](The-Role-of-Claim-Rules.md)을 참조 하세요. 클레임 규칙 엔진에서 규칙을 처리하는 방법에 대한 자세한 내용은 [The Role of the Claims Engine](The-Role-of-the-Claims-Engine.md)을 참조하세요.  
  
다음 섹션에서는 페더레이션 서비스에서 감독하는 프로세스에 대해 더 자세히 설명합니다.  
  
## <a name="claims-pipeline-process"></a>클레임 파이프라인 프로세스  
클레임 파이프라인 프로세스는 높은\-수준의 세 단계로 구성 됩니다. 이 프로세스의 각 단계는 클레임 규칙 엔진을 초기화하여 해당 단계와 관련된 클레임 규칙을 처리합니다. 이러한 단계는 \(발생\)하는 순서 대로 포함 됩니다.  
  
1.  들어오는 클레임 수용 - 클레임 파이프라인의 이 단계는 토큰에서 들어오는 클레임을 추출하고 예기치 않은 클레임이나 신뢰할 수 없는 클레임을 제거하는 데 사용됩니다. 추출 후에는 클레임 공급자 트러스트를 위한 수용 변환 규칙 집합을 구성하는 수용 규칙이 실행됩니다. 이러한 규칙을 사용하여 클레임 파이프라인의 이후 단계에서 사용할 수 있는 새 클레임을 전달 또는 추가할 수 있습니다. 이 단계의 출력은 두 번째 및 세 번째 단계에 대한 입력으로 사용됩니다.  
  
2.  클레임 요청자 권한 부여 - 이 단계는 토큰 요청자가 해당 신뢰 당사자의 토큰을 얻을 수 있는지 여부를 기준으로 클레임 엔진에서 허가를 발급하거나 클레임을 거부하는 데 사용됩니다. 그러나 그전에 신뢰 당사자 트러스트를 위한 발급 권한 부여 규칙 집합 또는 위임 권한 부여 규칙 중 하나를 구성하는 권한 부여 규칙을 실행해야 합니다.  
  
3.  나가는 클레임 발급 - 이 단계는 나가는 클레임을 발급하여 보안 토큰 패키지에 포함될 파이프라인을 따라 전달하는 데 사용됩니다. 그러나 그전에 신뢰 당사자 트러스트를 위한 발급 변환 규칙 집합을 구성하는 발급 규칙을 실행하여 나가는 클레임으로 발급될 클레임을 확인해야 합니다.  
  
위의 세 단계는 모두 클레임 규칙 처리를 수행하지만 각각 다른 규칙 집합을 사용합니다. 위에서 설명한 것 처럼 각 단계에는 들어오는 클레임 \(의 발급자를 기준으로 하는 규칙 집합, 승인 규칙\) 또는 claimincludes가 발급 \(되는 대상 서비스에 대 한 권한이 있습니다. 발급 규칙\).  
  
클레임은 토큰\-을 독립적 이지만 보안 토큰에 캡슐화 된 네트워크를 통해 전송 됩니다. 클레임 규칙은 들어오거나 나가는 보안 토큰의 형식에 관계없이 클레임을 통해 작동합니다.  
  
클레임 규칙은 클레임 엔진이\-들어오는 클레임을 수락 하 고, 요청자의 id를 기반으로 클레임에 권한을 부여 하 고, 신뢰 당사자에 게 필요한 클레임을 발급 하는 관리자 정의 논리를 포함 합니다. 궁극적으로 클레임 파이프라인을 통해 클레임이 이동된 다음 발급될 보안 토큰에 포함되는 클레임을 결정하는 것은 클레임 엔진입니다.  
  
다음 그림에 표시 된 것 처럼 클레임 파이프라인은 여러 파이프라인 단계를 통해 클레임\-을\-전달 하는 전체 종단 간 프로세스를 담당 하며,이를 통해 신뢰 당사자를 통해 전송 되는 발급 된 클레임을 종료 합니다 파티 트러스트. 일러스트레이션에서 나가는 클레임은 발급된 클레임을 나타냅니다.  
  
![AD FS 역할](media/adfs2_pipeline.gif)  
  
일러스트레이션에는 표시되지 않았지만 각 단계에서 규칙의 실제 처리를 수행하는 것은 클레임 엔진입니다. 자세한 내용은 [The Role of the Claims Engine](The-Role-of-the-Claims-Engine.md)를 참조하세요.  
  

