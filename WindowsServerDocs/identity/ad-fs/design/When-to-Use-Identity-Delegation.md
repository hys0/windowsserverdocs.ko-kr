---
ms.assetid: 6e711a96-9055-4508-b6d4-318d6aa95fd1
title: ID 위임을 사용하는 시기
description: ''
author: billmath
ms.author: billmath
manager: femila
ms.date: 05/31/2017
ms.topic: article
ms.prod: windows-server
ms.technology: identity-adfs
ms.openlocfilehash: bac72fb27b40e3d7d7cd4e796caeec12c65def5e
ms.sourcegitcommit: 6aff3d88ff22ea141a6ea6572a5ad8dd6321f199
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 09/27/2019
ms.locfileid: "71358814"
---
# <a name="when-to-use-identity-delegation"></a>ID 위임을 사용하는 시기
  
## <a name="what-is-identity-delegation"></a>ID 위임이란 무엇인가요?  
Id 위임은 관리자 \(\) 가지정한계정이사용자를가장할수있도록하는ActiveDirectoryFederationServicesADFS\-의 기능입니다. 사용자를 가장하는 계정을 *위임*이라고 합니다. 이 위임 기능은 원래 요청의 권한 부여 체인에 있는 각 응용 프로그램, 데이터베이스 또는 서비스에 대해 순차적으로 이루어져야 하는 일련의 액세스 제어 검사가 있는 여러 분산 응용 프로그램에 중요합니다. 웹 응용\-프로그램 "프런트 엔드"가 Microsoft SQL Server 데이터베이스에 연결 된 웹 서비스와 같은 보다 안전한 "백 엔드"에서 데이터를 검색 해야 하는 대부분의 실제 시나리오입니다.  
  
기존 파트는 예를 들어\-순서 파트너 조직에서는 자신의 구매 기록 및 계정 상태를 볼 수 있도록 웹 사이트 프로그래밍 방식으로 향상 시킬 수 있습니다. 보안상의 이유로 모든 파트너 재무 데이터 전용된 구조적 쿼리 언어에 안전한 데이터베이스에 저장 됩니다 \(SQL\) 서버입니다. 이 경우 프런트\-엔드 응용 프로그램의 코드는 파트너 조직의 금융 데이터에 대해 아무 것도 인식 하지 못합니다. 따라서 다른 곳에서 호스팅하는 네트워크의 다른 컴퓨터에서 해당 데이터를 검색 해야 것 \(이 경우\) 부분 데이터베이스에 대 한 웹 서비스 \(백 엔드\)합니다.  
  
이 데이터에 대 한\-일부 연속적으로 권한 부여의 성공 하는 검색 프로세스 "손\-흔들기" 다음 그림에 표시 된 대로 웹 응용 프로그램과 부분 데이터베이스에 대 한 웹 서비스 간에 발생 해야 합니다.  
  
![id 위임](media/adfs2_identitydelegationconcept.gif)  
  
원래 요청은 웹 서버 자체에 대해 이루어지지만 웹 서버가 웹 서버에 액세스하려는 사용자 조직과 완전히 다른 조직에 있을 가능성이 있으므로, 요청과 함께 보낸 보안 토큰은 웹 서버 외에 다른 컴퓨터에 액세스하는 데 필요한 권한 부여 조건을 충족하지 않습니다. 그러므로 원래 사용자 요청이 이행될 수 있는 유일한 방법은 적절한 액세스 권한을 가진 보안 토큰을 다시 제출하도록 리소스 파트너 조직에 중간 페더레이션 서버를 배치하는 것입니다.  
  
## <a name="how-does-identity-delegation-work"></a>ID 위임은 어떻게 작동하나요?  
일반 데이터 또는 기능에 액세스하기 위해 다중 계층 응용 프로그램 아키텍처의 웹 응용 프로그램은 종종 웹 서비스를 호출합니다. 서비스가 권한 부여 결정을 내리고 감사를 용이하게 할 수 있도록 이러한 웹 서비스가 원래 사용자의 ID를 아는 것이 중요합니다. 이 경우 앞에서에서\-최종 웹 응용 프로그램 대리인으로 웹 서비스에 사용자를 나타냅니다. AD FS는 Active Directory 계정을 다른 신뢰 당사자에 게 사용자 역할을 허용 하 여이 시나리오를 도와줍니다. ID 위임 시나리오가 다음 일러스트레이션에 나와 있습니다.  
  
![id 위임](media/adfs2_identitydelegationsteps.gif)  
  
1.  Frank 부분에 액세스 하려고\-다른 조직에서 웹 응용 프로그램의 순서를 지정 합니다. 클라이언트 컴퓨터가 요청 하 고 앞에 대 한 AD FS의 토큰을 받으면\-끝 부분\-웹 응용 프로그램을 정렬 합니다.  
  
2.  클라이언트 컴퓨터가 1 단계에서 얻은 토큰을 포함 하 여 웹 응용 프로그램에 요청을 보내 클라이언트의 id를 증명 합니다.  
  
3.  웹 응용 프로그램이 클라이언트에 대한 트랜잭션을 완료하려면 웹 서비스와 통신해야 합니다. 웹 응용 프로그램 웹 서비스와 상호 작용 하는 위임 토큰을 가져오기 위해 AD FS에 연결 합니다. 위임 토큰은 사용자 역할을 하는 대리자에게 발급된 보안 토큰입니다. AD FS 웹 서비스에 대 한 대상으로 클라이언트에 대 한 클레임을 사용 하 여 위임 토큰을 반환 합니다.  
  
4.  웹 응용 프로그램은 3 단계에서 AD FS 가져온 토큰을 사용 하 여 클라이언트 역할을 하는 웹 서비스에 액세스 합니다. 위임 토큰을 검사하면 웹 서비스는 웹 응용 프로그램이 클라이언트 역할을 하는지 확인할 수 있습니다. 웹 서비스가 권한 부여 정책을 실행하고 요청을 기록한 다음 Frank가 원래 요청한 필요한 물품 기록 데이터를 웹 응용 프로그램에 제공(즉, Frank에게 제공)합니다.  
  
특정 대리자에 대 한 AD FS를 웹 응용 프로그램 위임 토큰을 요청할 수 있습니다 웹 서비스를 제한할 수 있습니다. 이 작업이 성공하려면 클라이언트 컴퓨터에 Active Directory 계정이 있어서는 안 됩니다. 마지막으로, 위에서 설명한 것처럼 웹 서비스는 사용자 역할을 하는 대리자의 ID를 쉽게 확인할 수 있습니다. 이렇게 하면 클라이언트 컴퓨터에 직접 지시할지 아니면 대리자를 통해서 지시할지 여부에 따라 웹 서비스가 다른 동작을 나타낼 수 있습니다.  
  
## <a name="configuring-ad-fs-for-identity-delegation"></a>ID 위임에 대해 AD FS 구성  
AD FS 관리 스냅인을 사용할 수 있습니다\-에서 데이터 검색 프로세스를 용이 하 게 해야 할 때마다 id 위임에 대 한 AD FS를 구성 합니다. AD FS 권한 부여 컨텍스트를 포함 하는 새 보안 토큰을 생성할 수를 구성 하는 뒤로\-백엔드 서비스 보호 된 데이터에 대 한 액세스를 제공 해야 할 수 있습니다.  
  
AD FS 있는 사용자를 가장할 수를 제한 하지 않습니다. Id 위임에 대 한 AD FS를 구성한 후 다음을 수행 합니다.  
  
-   사용자를 가장하는 토큰을 요청하기 위해 권한을 위임할 수 있는 서버를 결정합니다.  
  
-   위임된 클라이언트 계정에 대한 ID 컨텍스트와 대리자 역할을 하는 서버를 설정하고 둘 사이를 구분합니다.  
  
AD FS 관리 스냅인에서 신뢰 신뢰 당사자에 게 위임 권한 부여 규칙을 추가 하 여 id 위임을 구성할 수 있습니다\-에 있습니다. 이 작업을 수행 하는 방법에 대 한 [자세한 내용은 검사 목록: 신뢰 당사자 트러스트](../../ad-fs/deployment/Checklist--Creating-Claim-Rules-for-a-Relying-Party-Trust.md)에 대 한 클레임 규칙을 만드는 중입니다.  
  
## <a name="configuring-the-front-end-web-application-for-identity-delegation"></a>앞의 구성\-id 위임에 대 한 웹 응용 프로그램 종료  
개발자는 웹 프런트 적절 하 게 프로그래밍 하는 데 사용할 수 있는 여러 옵션이\-AD FS 컴퓨터에 위임 요청을 리디렉션하는 응용 프로그램 또는 서비스를 종료 합니다. ID 위임 작업을 위해 웹 응용 프로그램을 사용자 지정하는 방법에 대한 자세한 내용은 [Windows Identity Foundation SDK](https://go.microsoft.com/fwlink/?LinkId=122266)를 참조하세요.  
  
## <a name="see-also"></a>관련 항목
[Windows Server 2012의 AD FS 디자인 가이드](AD-FS-Design-Guide-in-Windows-Server-2012.md)
